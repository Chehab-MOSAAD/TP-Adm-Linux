# Chehab MOSAAD (1A STRI)
## TP2 Administration Système Linux
### Accès à la machine virtuelle et Mise à jour de la distribution
```Powershell
PS C:\Users\hp> ssh vm0
etu@2001:678:3fc:3c:baad:caff:fefe:39s password:
Linux vm0 6.5.0-4-amd64 #1 SMP PREEMPT_DYNAMIC Debian 6.5.10-1 (2023-11-03) x86_64

The programs included with the Debian GNU/Linux system are free software;
the exact distribution terms for each program are described in the
individual files in /usr/share/doc/*/copyright.

Debian GNU/Linux comes with ABSOLUTELY NO WARRANTY, to the extent
permitted by applicable law.
Last login: Sun Dec  3 21:55:55 2023 from fe80::64f4:67ff:fed5:a75c%enp0s1
etu@vm0:~$ sudo apt update
[sudo] Mot de passe de etu :
Réception de :1 http://deb.debian.org/debian testing InRelease [156 kB]
Réception de :2 http://security.debian.org/debian-security testing-security InRelease [43,5 kB]
Réception de :3 http://deb.debian.org/debian testing/main amd64 Packages.diff/Index [27,9 kB]
Réception de :4 http://deb.debian.org/debian testing/main Translation-en.diff/Index [27,9 kB]
Réception de :5 http://deb.debian.org/debian testing/main Translation-fr.diff/Index [27,9 kB]
Réception de :6 http://deb.debian.org/debian testing/main amd64 Packages 2023-11-20-1403.46.pdiff [2 043 B]
Réception de :7 http://deb.debian.org/debian testing/main amd64 Packages 2023-11-20-2004.06.pdiff [1 664 B]
Réception de :8 http://deb.debian.org/debian testing/main amd64 Packages 2023-11-21-0204.34.pdiff [17,1 kB]
Réception de :9 http://deb.debian.org/debian testing/main amd64 Packages 2023-11-21-0804.39.pdiff [3 623 B]
Réception de :10 http://deb.debian.org/debian testing/main amd64 Packages 2023-11-21-1403.33.pdiff [2 704 B]
Réception de :11 http://deb.debian.org/debian testing/main amd64 Packages 2023-11-21-2003.46.pdiff [4 108 B]
Réception de :12 http://deb.debian.org/debian testing/main amd64 Packages 2023-11-22-0240.15.pdiff [33,6 kB]
Réception de :13 http://deb.debian.org/debian testing/main amd64 Packages 2023-11-22-1424.38.pdiff [454 B]
Réception de :14 http://deb.debian.org/debian testing/main amd64 Packages 2023-11-22-2012.02.pdiff [15,8 kB]
Réception de :15 http://deb.debian.org/debian testing/main amd64 Packages 2023-11-23-0207.20.pdiff [11,0 kB]
Réception de :16 http://deb.debian.org/debian testing/main amd64 Packages 2023-11-23-0803.43.pdiff [29,3 kB]
Réception de :17 http://deb.debian.org/debian testing/main amd64 Packages 2023-11-23-1408.42.pdiff [3 018 B]
Réception de :18 http://deb.debian.org/debian testing/main amd64 Packages 2023-11-23-2003.32.pdiff [3 024 B]
Réception de :19 http://deb.debian.org/debian testing/main amd64 Packages 2023-11-24-0208.20.pdiff [15,7 kB]
Réception de :20 http://deb.debian.org/debian testing/main amd64 Packages 2023-11-24-0804.40.pdiff [1 426 B]
Réception de :21 http://deb.debian.org/debian testing/main amd64 Packages 2023-11-24-1407.05.pdiff [67 B]
Réception de :22 http://deb.debian.org/debian testing/main amd64 Packages 2023-11-24-2009.46.pdiff [458 B]
Réception de :23 http://deb.debian.org/debian testing/main amd64 Packages 2023-11-25-0204.55.pdiff [17,7 kB]
Réception de :24 http://deb.debian.org/debian testing/main amd64 Packages 2023-11-25-1407.52.pdiff [283 B]
Réception de :25 http://deb.debian.org/debian testing/main amd64 Packages 2023-11-25-2009.13.pdiff [153 kB]
Réception de :26 http://deb.debian.org/debian testing/main amd64 Packages 2023-11-26-0203.42.pdiff [33,6 kB]
Réception de :27 http://deb.debian.org/debian testing/main amd64 Packages 2023-11-26-0807.08.pdiff [1 094 B]
Réception de :28 http://deb.debian.org/debian testing/main amd64 Packages 2023-11-26-1408.09.pdiff [264 B]
Réception de :29 http://deb.debian.org/debian testing/main amd64 Packages 2023-11-26-2009.18.pdiff [557 B]
Réception de :30 http://deb.debian.org/debian testing/main amd64 Packages 2023-11-27-0203.46.pdiff [59,7 kB]
Réception de :31 http://deb.debian.org/debian testing/main amd64 Packages 2023-11-27-0806.27.pdiff [4 531 B]
Réception de :32 http://deb.debian.org/debian testing/main amd64 Packages 2023-11-27-1404.10.pdiff [8 045 B]
Réception de :33 http://deb.debian.org/debian testing/main amd64 Packages 2023-11-27-2006.37.pdiff [1 344 B]
Réception de :34 http://deb.debian.org/debian testing/main amd64 Packages 2023-11-28-0205.29.pdiff [39,4 kB]
Réception de :35 http://deb.debian.org/debian testing/main amd64 Packages 2023-11-28-0804.24.pdiff [204 B]
Réception de :36 http://deb.debian.org/debian testing/main amd64 Packages 2023-11-28-1406.19.pdiff [815 B]
Réception de :37 http://deb.debian.org/debian testing/main amd64 Packages 2023-11-28-2004.01.pdiff [15,2 kB]
Réception de :38 http://deb.debian.org/debian testing/main amd64 Packages 2023-11-29-0203.59.pdiff [30,3 kB]
Réception de :39 http://deb.debian.org/debian testing/main amd64 Packages 2023-11-29-0803.53.pdiff [4 815 B]
Réception de :40 http://deb.debian.org/debian testing/main amd64 Packages 2023-11-29-1403.46.pdiff [555 B]
Réception de :41 http://deb.debian.org/debian testing/main amd64 Packages 2023-11-29-2004.35.pdiff [6 678 B]
Réception de :42 http://deb.debian.org/debian testing/main amd64 Packages 2023-11-30-0205.10.pdiff [26,5 kB]
Réception de :43 http://deb.debian.org/debian testing/main amd64 Packages 2023-11-30-0808.24.pdiff [14,1 kB]
Réception de :44 http://deb.debian.org/debian testing/main amd64 Packages 2023-11-30-1403.42.pdiff [2 193 B]
Réception de :45 http://deb.debian.org/debian testing/main amd64 Packages 2023-11-30-2009.37.pdiff [15,2 kB]
Réception de :46 http://deb.debian.org/debian testing/main amd64 Packages 2023-12-01-0205.30.pdiff [137 kB]
Réception de :47 http://deb.debian.org/debian testing/main amd64 Packages 2023-12-01-0809.27.pdiff [5 578 B]
Réception de :48 http://deb.debian.org/debian testing/main amd64 Packages 2023-12-01-1406.16.pdiff [66 B]
Réception de :49 http://deb.debian.org/debian testing/main amd64 Packages 2023-12-01-2028.26.pdiff [4 343 B]
Réception de :50 http://deb.debian.org/debian testing/main amd64 Packages 2023-12-02-0204.21.pdiff [30,0 kB]
Réception de :51 http://deb.debian.org/debian testing/main amd64 Packages 2023-12-02-1404.05.pdiff [5 102 B]
Réception de :52 http://deb.debian.org/debian testing/main amd64 Packages 2023-12-02-2013.54.pdiff [56 B]
Réception de :53 http://deb.debian.org/debian testing/main amd64 Packages 2023-12-03-0205.06.pdiff [17,8 kB]
Réception de :54 http://deb.debian.org/debian testing/main amd64 Packages 2023-12-03-0804.07.pdiff [4 109 B]
Réception de :55 http://deb.debian.org/debian testing/main amd64 Packages 2023-12-03-1404.43.pdiff [6 389 B]
Réception de :56 http://deb.debian.org/debian testing/main amd64 Packages 2023-12-03-2007.27.pdiff [2 777 B]
Réception de :57 http://deb.debian.org/debian testing/main amd64 Packages 2023-12-04-0207.14.pdiff [31,7 kB]
Réception de :58 http://deb.debian.org/debian testing/main amd64 Packages 2023-12-04-0804.39.pdiff [20,0 kB]
Réception de :59 http://deb.debian.org/debian testing/main amd64 Packages 2023-12-04-1405.26.pdiff [920 B]
Réception de :59 http://deb.debian.org/debian testing/main amd64 Packages 2023-12-04-1405.26.pdiff [920 B]
Réception de :60 http://deb.debian.org/debian testing/main Translation-en 2023-11-20-2004.06.pdiff [766 B]
Réception de :61 http://deb.debian.org/debian testing/main Translation-en 2023-11-21-0204.34.pdiff [1 430 B]
Réception de :62 http://deb.debian.org/debian testing/main Translation-en 2023-11-21-1403.33.pdiff [750 B]
Réception de :63 http://deb.debian.org/debian testing/main Translation-en 2023-11-21-2003.46.pdiff [35 B]
Réception de :64 http://deb.debian.org/debian testing/main Translation-en 2023-11-22-0240.15.pdiff [4 354 B]
Réception de :65 http://deb.debian.org/debian testing/main Translation-en 2023-11-22-1424.38.pdiff [138 B]
Réception de :66 http://deb.debian.org/debian testing/main Translation-en 2023-11-22-2012.02.pdiff [582 B]
Réception de :67 http://deb.debian.org/debian testing/main Translation-en 2023-11-23-0207.20.pdiff [2 563 B]
Réception de :68 http://deb.debian.org/debian testing/main Translation-en 2023-11-23-0803.43.pdiff [4 754 B]
Réception de :69 http://deb.debian.org/debian testing/main Translation-en 2023-11-23-2003.32.pdiff [892 B]
Réception de :70 http://deb.debian.org/debian testing/main Translation-en 2023-11-24-0208.20.pdiff [511 B]
Réception de :71 http://deb.debian.org/debian testing/main Translation-en 2023-11-24-1407.05.pdiff [64 B]
Réception de :72 http://deb.debian.org/debian testing/main Translation-en 2023-11-24-2009.46.pdiff [35 B]
Réception de :73 http://deb.debian.org/debian testing/main Translation-en 2023-11-25-0204.55.pdiff [1 174 B]
Réception de :74 http://deb.debian.org/debian testing/main Translation-en 2023-11-25-1407.52.pdiff [58 B]
Réception de :75 http://deb.debian.org/debian testing/main Translation-en 2023-11-25-2009.13.pdiff [1 296 B]
Réception de :76 http://deb.debian.org/debian testing/main Translation-en 2023-11-26-0203.42.pdiff [4 195 B]
Réception de :77 http://deb.debian.org/debian testing/main Translation-en 2023-11-26-0807.08.pdiff [601 B]
Réception de :78 http://deb.debian.org/debian testing/main Translation-en 2023-11-26-1408.09.pdiff [254 B]
Réception de :79 http://deb.debian.org/debian testing/main Translation-en 2023-11-26-2009.18.pdiff [35 B]
Réception de :80 http://deb.debian.org/debian testing/main Translation-en 2023-11-27-0203.46.pdiff [1 181 B]
Réception de :81 http://deb.debian.org/debian testing/main Translation-en 2023-11-27-1404.10.pdiff [678 B]
Réception de :82 http://deb.debian.org/debian testing/main Translation-en 2023-11-27-2006.37.pdiff [393 B]
Réception de :83 http://deb.debian.org/debian testing/main Translation-en 2023-11-28-0205.29.pdiff [1 870 B]
Réception de :84 http://deb.debian.org/debian testing/main Translation-en 2023-11-28-0804.24.pdiff [63 B]
Réception de :85 http://deb.debian.org/debian testing/main Translation-en 2023-11-28-1406.19.pdiff [83 B]
Réception de :86 http://deb.debian.org/debian testing/main Translation-en 2023-11-28-2004.01.pdiff [6 104 B]
Réception de :87 http://deb.debian.org/debian testing/main Translation-en 2023-11-29-0203.59.pdiff [4 776 B]
Réception de :88 http://deb.debian.org/debian testing/main Translation-en 2023-11-29-0803.53.pdiff [1 446 B]
Réception de :89 http://deb.debian.org/debian testing/main Translation-en 2023-11-29-1403.46.pdiff [450 B]
Réception de :90 http://deb.debian.org/debian testing/main Translation-en 2023-11-29-2004.35.pdiff [33 B]
Réception de :91 http://deb.debian.org/debian testing/main Translation-en 2023-11-30-0205.10.pdiff [1 904 B]
Réception de :92 http://deb.debian.org/debian testing/main Translation-en 2023-11-30-0808.24.pdiff [1 760 B]
Réception de :93 http://deb.debian.org/debian testing/main Translation-en 2023-11-30-1403.42.pdiff [682 B]
Réception de :94 http://deb.debian.org/debian testing/main Translation-en 2023-11-30-2009.37.pdiff [944 B]
Réception de :95 http://deb.debian.org/debian testing/main Translation-en 2023-12-01-0205.30.pdiff [6 321 B]
Réception de :96 http://deb.debian.org/debian testing/main Translation-en 2023-12-01-0809.27.pdiff [1 827 B]
Réception de :97 http://deb.debian.org/debian testing/main Translation-en 2023-12-01-1406.16.pdiff [72 B]
Réception de :98 http://deb.debian.org/debian testing/main Translation-en 2023-12-01-2028.26.pdiff [406 B]
Réception de :99 http://deb.debian.org/debian testing/main Translation-en 2023-12-02-0204.21.pdiff [2 217 B]
Réception de :100 http://deb.debian.org/debian testing/main Translation-en 2023-12-02-1404.05.pdiff [109 B]
Réception de :101 http://deb.debian.org/debian testing/main Translation-en 2023-12-02-2013.54.pdiff [55 B]
Réception de :102 http://deb.debian.org/debian testing/main Translation-en 2023-12-03-0205.06.pdiff [976 B]
Réception de :103 http://deb.debian.org/debian testing/main Translation-en 2023-12-03-0804.07.pdiff [414 B]
Réception de :104 http://deb.debian.org/debian testing/main Translation-en 2023-12-03-1404.43.pdiff [673 B]
Réception de :105 http://deb.debian.org/debian testing/main Translation-en 2023-12-03-2007.27.pdiff [432 B]
Réception de :106 http://deb.debian.org/debian testing/main Translation-en 2023-12-04-0207.14.pdiff [1 050 B]
Réception de :107 http://deb.debian.org/debian testing/main Translation-en 2023-12-04-1405.26.pdiff [35 B]
Réception de :107 http://deb.debian.org/debian testing/main Translation-en 2023-12-04-1405.26.pdiff [35 B]
Réception de :108 http://deb.debian.org/debian testing/main Translation-fr 2023-11-20-1403.46.pdiff [2 633 B]
Réception de :109 http://deb.debian.org/debian testing/main Translation-fr 2023-11-21-1403.33.pdiff [1 501 B]
Réception de :110 http://deb.debian.org/debian testing/main Translation-fr 2023-11-22-1424.38.pdiff [5 485 B]
Réception de :111 http://deb.debian.org/debian testing/main Translation-fr 2023-11-23-1408.42.pdiff [1 192 B]
Réception de :112 http://deb.debian.org/debian testing/main Translation-fr 2023-11-24-1407.05.pdiff [5 817 B]
Réception de :113 http://deb.debian.org/debian testing/main Translation-fr 2023-11-25-1407.52.pdiff [33 B]
Réception de :114 http://deb.debian.org/debian testing/main Translation-fr 2023-11-26-1408.09.pdiff [3 809 B]
Réception de :115 http://deb.debian.org/debian testing/main Translation-fr 2023-11-27-1404.10.pdiff [4 185 B]
Réception de :116 http://deb.debian.org/debian testing/main Translation-fr 2023-11-28-1406.19.pdiff [2 932 B]
Réception de :117 http://deb.debian.org/debian testing/main Translation-fr 2023-11-29-1403.46.pdiff [6 166 B]
Réception de :118 http://deb.debian.org/debian testing/main Translation-fr 2023-11-30-1403.42.pdiff [865 B]
Réception de :119 http://deb.debian.org/debian testing/main Translation-fr 2023-12-01-1406.16.pdiff [2 971 B]
Réception de :120 http://deb.debian.org/debian testing/main Translation-fr 2023-12-02-1404.05.pdiff [6 085 B]
Réception de :121 http://deb.debian.org/debian testing/main Translation-fr 2023-12-03-1404.43.pdiff [1 917 B]
Réception de :122 http://deb.debian.org/debian testing/main Translation-fr 2023-12-04-1405.26.pdiff [2 372 B]
Réception de :122 http://deb.debian.org/debian testing/main Translation-fr 2023-12-04-1405.26.pdiff [2 372 B]
1 240 ko réceptionnés en 9s (145 ko/s)
Lecture des listes de paquets... Fait
Construction de l'arbre des dépendances... Fait
Lecture des informations d'état... Fait
67 paquets peuvent être mis à jour. Exécutez « apt list --upgradable » pour les voir.
```

```Powershell
etu@vm0:~$ sudo apt full-upgrade
Lecture des listes de paquets... Fait
Construction de l arbre des dépendances... Fait
Lecture des informations d état... Fait
Calcul de la mise à jour... Fait
Les paquets suivants seront mis à jour :
  apparmor base-passwd bash binutils binutils-common binutils-x86-64-linux-gnu busybox cron cron-daemon-common
  distro-info-data gcc-13-base init init-system-helpers iproute2 libapparmor1 libbinutils libbrotli1 libctf-nobfd0
  libctf0 libelf1 libffi8 libfido2-1 libgcc-s1 libgdbm-compat4 libgdbm6 libgnutls30 libgpg-error0 libgprofng0 liblzma5
  libncursesw6 libnewt0.52 libperl5.36 libreadline8 libseccomp2 libselinux1 libsepol2 libsframe1 libsqlite3-0
  libssh2-1 libstdc++6 libtinfo6 libuchardet0 libxml2 mawk ncurses-base ncurses-bin ncurses-term needrestart
  netcat-traditional pci.ids perl perl-base perl-modules-5.36 python-apt-common python3-apt python3-charset-normalizer
  python3-newt python3-pycurl readline-common shared-mime-info tzdata vim vim-common vim-runtime vim-tiny whiptail
  xz-utils
67 mis à jour, 0 nouvellement installés, 0 à enlever et 0 non mis à jour.
Il est nécessaire de prendre 38,9 Mo dans les archives.
Après cette opération, 1 091 ko d espace disque supplémentaires seront utilisés.
Souhaitez-vous continuer ? [O/n] o
Réception de :1 http://deb.debian.org/debian testing/main amd64 bash amd64 5.2.21-2 [1 492 kB]
Réception de :2 http://deb.debian.org/debian testing/main amd64 ncurses-bin amd64 6.4+20231121-1 [429 kB]
Réception de :3 http://deb.debian.org/debian testing/main amd64 libperl5.36 amd64 5.36.0-10 [4 221 kB]
Réception de :4 http://deb.debian.org/debian testing/main amd64 perl amd64 5.36.0-10 [239 kB]
Réception de :5 http://deb.debian.org/debian testing/main amd64 perl-base amd64 5.36.0-10 [1 602 kB]
Réception de :6 http://deb.debian.org/debian testing/main amd64 perl-modules-5.36 all 5.36.0-10 [2 815 kB]
Réception de :7 http://deb.debian.org/debian testing/main amd64 libgdbm6 amd64 1.23-5 [72,5 kB]
Réception de :8 http://deb.debian.org/debian testing/main amd64 libgdbm-compat4 amd64 1.23-5 [48,3 kB]
Réception de :9 http://deb.debian.org/debian testing/main amd64 libselinux1 amd64 3.5-1+b1 [74,5 kB]
Réception de :10 http://deb.debian.org/debian testing/main amd64 base-passwd amd64 3.6.3 [50,8 kB]
Réception de :11 http://deb.debian.org/debian testing/main amd64 init-system-helpers all 1.66 [39,0 kB]
Réception de :12 http://deb.debian.org/debian testing/main amd64 ncurses-base all 6.4+20231121-1 [267 kB]
Réception de :13 http://deb.debian.org/debian testing/main amd64 ncurses-term all 6.4+20231121-1 [508 kB]
Réception de :14 http://deb.debian.org/debian testing/main amd64 cron amd64 3.0pl1-180 [82,6 kB]
Réception de :15 http://deb.debian.org/debian testing/main amd64 init amd64 1.66 [6 004 B]
Réception de :16 http://deb.debian.org/debian testing/main amd64 gcc-13-base amd64 13.2.0-7 [40,8 kB]
Réception de :17 http://deb.debian.org/debian testing/main amd64 libstdc++6 amd64 13.2.0-7 [696 kB]
Réception de :18 http://deb.debian.org/debian testing/main amd64 libgcc-s1 amd64 13.2.0-7 [57,7 kB]
Réception de :19 http://deb.debian.org/debian testing/main amd64 libffi8 amd64 3.4.4-2 [23,5 kB]
Réception de :20 http://deb.debian.org/debian testing/main amd64 libgnutls30 amd64 3.8.2-1 [1 424 kB]
Réception de :21 http://deb.debian.org/debian testing/main amd64 libgpg-error0 amd64 1.47-3 [77,8 kB]
Réception de :22 http://deb.debian.org/debian testing/main amd64 liblzma5 amd64 5.4.5-0.1 [239 kB]
Réception de :23 http://deb.debian.org/debian testing/main amd64 libseccomp2 amd64 2.5.4-2+b1 [47,1 kB]
Réception de :24 http://deb.debian.org/debian testing/main amd64 libsepol2 amd64 3.5-2 [277 kB]
Réception de :25 http://deb.debian.org/debian testing/main amd64 libncursesw6 amd64 6.4+20231121-1 [135 kB]
Réception de :26 http://deb.debian.org/debian testing/main amd64 libtinfo6 amd64 6.4+20231121-1 [341 kB]
Réception de :27 http://deb.debian.org/debian testing/main amd64 mawk amd64 1.3.4.20231126-1 [136 kB]
Réception de :28 http://deb.debian.org/debian testing/main amd64 tzdata all 2023c-11 [252 kB]
Réception de :29 http://deb.debian.org/debian testing/main amd64 cron-daemon-common all 3.0pl1-180 [15,9 kB]
Réception de :30 http://deb.debian.org/debian testing/main amd64 libelf1 amd64 0.190-1 [176 kB]
Réception de :31 http://deb.debian.org/debian testing/main amd64 iproute2 amd64 6.6.0-1 [1 054 kB]
Réception de :32 http://deb.debian.org/debian testing/main amd64 readline-common all 8.2-3 [69,1 kB]
Réception de :33 http://deb.debian.org/debian testing/main amd64 vim amd64 2:9.0.2116-1 [1 600 kB]
Réception de :34 http://deb.debian.org/debian testing/main amd64 vim-common all 2:9.0.2116-1 [344 kB]
Réception de :35 http://deb.debian.org/debian testing/main amd64 vim-tiny amd64 2:9.0.2116-1 [736 kB]
Réception de :36 http://deb.debian.org/debian testing/main amd64 vim-runtime all 2:9.0.2116-1 [7 071 kB]
Réception de :37 http://deb.debian.org/debian testing/main amd64 python3-newt amd64 0.52.24-1+b1 [33,1 kB]
Réception de :38 http://deb.debian.org/debian testing/main amd64 libnewt0.52 amd64 0.52.24-1+b1 [59,7 kB]
Réception de :39 http://deb.debian.org/debian testing/main amd64 whiptail amd64 0.52.24-1+b1 [24,3 kB]
Réception de :40 http://deb.debian.org/debian testing/main amd64 netcat-traditional amd64 1.10-48 [62,8 kB]
Réception de :41 http://deb.debian.org/debian testing/main amd64 xz-utils amd64 5.4.5-0.1 [503 kB]
Réception de :42 http://deb.debian.org/debian testing/main amd64 apparmor amd64 3.0.12-1+b1 [628 kB]
Réception de :43 http://deb.debian.org/debian testing/main amd64 libgprofng0 amd64 2.41-7 [767 kB]
Réception de :44 http://deb.debian.org/debian testing/main amd64 libctf0 amd64 2.41-7 [87,0 kB]
Réception de :45 http://deb.debian.org/debian testing/main amd64 libctf-nobfd0 amd64 2.41-7 [151 kB]
Réception de :46 http://deb.debian.org/debian testing/main amd64 binutils-x86-64-linux-gnu amd64 2.41-7 [2 218 kB]
Réception de :47 http://deb.debian.org/debian testing/main amd64 libbinutils amd64 2.41-7 [512 kB]
Réception de :48 http://deb.debian.org/debian testing/main amd64 binutils amd64 2.41-7 [80,3 kB]
Réception de :49 http://deb.debian.org/debian testing/main amd64 binutils-common amd64 2.41-7 [2 504 kB]
Réception de :50 http://deb.debian.org/debian testing/main amd64 libsframe1 amd64 2.41-7 [75,3 kB]
Réception de :51 http://deb.debian.org/debian testing/main amd64 busybox amd64 1:1.36.1-5 [483 kB]
Réception de :52 http://deb.debian.org/debian testing/main amd64 distro-info-data all 0.60 [6 168 B]
Réception de :53 http://deb.debian.org/debian testing/main amd64 libapparmor1 amd64 3.0.12-1+b1 [41,5 kB]
Réception de :54 http://deb.debian.org/debian testing/main amd64 libbrotli1 amd64 1.1.0-2+b1 [302 kB]
Réception de :55 http://deb.debian.org/debian testing/main amd64 libfido2-1 amd64 1.14.0-1 [77,4 kB]
Réception de :56 http://deb.debian.org/debian testing/main amd64 libreadline8 amd64 8.2-3 [167 kB]
Réception de :57 http://deb.debian.org/debian testing/main amd64 libsqlite3-0 amd64 3.44.2-1 [882 kB]
Réception de :58 http://deb.debian.org/debian testing/main amd64 libssh2-1 amd64 1.11.0-3 [214 kB]
Réception de :59 http://deb.debian.org/debian testing/main amd64 libuchardet0 amd64 0.0.8-1 [68,5 kB]
Réception de :60 http://deb.debian.org/debian testing/main amd64 libxml2 amd64 2.9.14+dfsg-1.3+b1 [692 kB]
Réception de :61 http://deb.debian.org/debian testing/main amd64 needrestart all 3.6-6 [59,4 kB]
Réception de :62 http://deb.debian.org/debian testing/main amd64 pci.ids all 0.0~2023.11.11-1 [250 kB]
Réception de :63 http://deb.debian.org/debian testing/main amd64 python-apt-common all 2.7.0 [64,4 kB]
Réception de :64 http://deb.debian.org/debian testing/main amd64 python3-apt amd64 2.7.0+b1 [202 kB]
Réception de :65 http://deb.debian.org/debian testing/main amd64 python3-charset-normalizer all 3.3.2-1 [51,6 kB]
Réception de :66 http://deb.debian.org/debian testing/main amd64 python3-pycurl amd64 7.45.2-6+b1 [86,4 kB]
Réception de :67 http://deb.debian.org/debian testing/main amd64 shared-mime-info amd64 2.4-1 [751 kB]
(Lecture de la base de données... 33253 fichiers et répertoires déjà installés.)
Préparation du dépaquetage de .../bash_5.2.21-2_amd64.deb ...
Dépaquetage de bash (5.2.21-2) sur (5.2.15-2+b6) ...
Paramétrage de bash (5.2.21-2) ...
update-alternatives: utilisation de « /usr/share/man/man7/bash-builtins.7.gz » pour fournir « /usr/share/man/man7/builtins.7.gz » (builtins.7.gz) en mode automatique
(Lecture de la base de données... 33252 fichiers et répertoires déjà installés.)
Préparation du dépaquetage de .../ncurses-bin_6.4+20231121-1_amd64.deb ...
Dépaquetage de ncurses-bin (6.4+20231121-1) sur (6.4+20231016-1) ...
Paramétrage de ncurses-bin (6.4+20231121-1) ...
(Lecture de la base de données... 33252 fichiers et répertoires déjà installés.)
Préparation du dépaquetage de .../libperl5.36_5.36.0-10_amd64.deb ...
Dépaquetage de libperl5.36:amd64 (5.36.0-10) sur (5.36.0-9) ...
Préparation du dépaquetage de .../perl_5.36.0-10_amd64.deb ...
Dépaquetage de perl (5.36.0-10) sur (5.36.0-9) ...
Préparation du dépaquetage de .../perl-base_5.36.0-10_amd64.deb ...
Dépaquetage de perl-base (5.36.0-10) sur (5.36.0-9) ...
Paramétrage de perl-base (5.36.0-10) ...
(Lecture de la base de données... 33252 fichiers et répertoires déjà installés.)
Préparation du dépaquetage de .../perl-modules-5.36_5.36.0-10_all.deb ...
Dépaquetage de perl-modules-5.36 (5.36.0-10) sur (5.36.0-9) ...
Préparation du dépaquetage de .../libgdbm6_1.23-5_amd64.deb ...
Dépaquetage de libgdbm6:amd64 (1.23-5) sur (1.23-3) ...
Préparation du dépaquetage de .../libgdbm-compat4_1.23-5_amd64.deb ...
Dépaquetage de libgdbm-compat4:amd64 (1.23-5) sur (1.23-3) ...
Préparation du dépaquetage de .../libselinux1_3.5-1+b1_amd64.deb ...
Dépaquetage de libselinux1:amd64 (3.5-1+b1) sur (3.5-1) ...
Paramétrage de libselinux1:amd64 (3.5-1+b1) ...
(Lecture de la base de données... 33253 fichiers et répertoires déjà installés.)
Préparation du dépaquetage de .../base-passwd_3.6.3_amd64.deb ...
Dépaquetage de base-passwd (3.6.3) sur (3.6.2) ...
Paramétrage de base-passwd (3.6.3) ...
(Lecture de la base de données... 33253 fichiers et répertoires déjà installés.)
Préparation du dépaquetage de .../init-system-helpers_1.66_all.deb ...
Dépaquetage de init-system-helpers (1.66) sur (1.65.2) ...
Paramétrage de init-system-helpers (1.66) ...
(Lecture de la base de données... 33253 fichiers et répertoires déjà installés.)
Préparation du dépaquetage de .../ncurses-base_6.4+20231121-1_all.deb ...
Dépaquetage de ncurses-base (6.4+20231121-1) sur (6.4+20231016-1) ...
Paramétrage de ncurses-base (6.4+20231121-1) ...
(Lecture de la base de données... 33253 fichiers et répertoires déjà installés.)
Préparation du dépaquetage de .../ncurses-term_6.4+20231121-1_all.deb ...
Dépaquetage de ncurses-term (6.4+20231121-1) sur (6.4+20231016-1) ...
Préparation du dépaquetage de .../cron_3.0pl1-180_amd64.deb ...
Dépaquetage de cron (3.0pl1-180) sur (3.0pl1-178) ...
Préparation du dépaquetage de .../archives/init_1.66_amd64.deb ...
Dépaquetage de init (1.66) sur (1.65.2) ...
Préparation du dépaquetage de .../gcc-13-base_13.2.0-7_amd64.deb ...
Dépaquetage de gcc-13-base:amd64 (13.2.0-7) sur (13.2.0-5) ...
Paramétrage de gcc-13-base:amd64 (13.2.0-7) ...
(Lecture de la base de données... 33256 fichiers et répertoires déjà installés.)
Préparation du dépaquetage de .../libstdc++6_13.2.0-7_amd64.deb ...
Dépaquetage de libstdc++6:amd64 (13.2.0-7) sur (13.2.0-5) ...
Paramétrage de libstdc++6:amd64 (13.2.0-7) ...
(Lecture de la base de données... 33256 fichiers et répertoires déjà installés.)
Préparation du dépaquetage de .../libgcc-s1_13.2.0-7_amd64.deb ...
Dépaquetage de libgcc-s1:amd64 (13.2.0-7) sur (13.2.0-5) ...
Paramétrage de libgcc-s1:amd64 (13.2.0-7) ...
(Lecture de la base de données... 33256 fichiers et répertoires déjà installés.)
Préparation du dépaquetage de .../libffi8_3.4.4-2_amd64.deb ...
Dépaquetage de libffi8:amd64 (3.4.4-2) sur (3.4.4-1) ...
Paramétrage de libffi8:amd64 (3.4.4-2) ...
(Lecture de la base de données... 33256 fichiers et répertoires déjà installés.)
Préparation du dépaquetage de .../libgnutls30_3.8.2-1_amd64.deb ...
Dépaquetage de libgnutls30:amd64 (3.8.2-1) sur (3.8.1-4+b1) ...
Paramétrage de libgnutls30:amd64 (3.8.2-1) ...
(Lecture de la base de données... 33254 fichiers et répertoires déjà installés.)
Préparation du dépaquetage de .../libgpg-error0_1.47-3_amd64.deb ...
Dépaquetage de libgpg-error0:amd64 (1.47-3) sur (1.47-2) ...
Paramétrage de libgpg-error0:amd64 (1.47-3) ...
(Lecture de la base de données... 33254 fichiers et répertoires déjà installés.)
Préparation du dépaquetage de .../liblzma5_5.4.5-0.1_amd64.deb ...
Dépaquetage de liblzma5:amd64 (5.4.5-0.1) sur (5.4.4-0.1) ...
Paramétrage de liblzma5:amd64 (5.4.5-0.1) ...
(Lecture de la base de données... 33254 fichiers et répertoires déjà installés.)
Préparation du dépaquetage de .../libseccomp2_2.5.4-2+b1_amd64.deb ...
Dépaquetage de libseccomp2:amd64 (2.5.4-2+b1) sur (2.5.4-2) ...
Paramétrage de libseccomp2:amd64 (2.5.4-2+b1) ...
(Lecture de la base de données... 33255 fichiers et répertoires déjà installés.)
Préparation du dépaquetage de .../libsepol2_3.5-2_amd64.deb ...
Dépaquetage de libsepol2:amd64 (3.5-2) sur (3.5-1) ...
Paramétrage de libsepol2:amd64 (3.5-2) ...
(Lecture de la base de données... 33255 fichiers et répertoires déjà installés.)
Préparation du dépaquetage de .../libncursesw6_6.4+20231121-1_amd64.deb ...
Dépaquetage de libncursesw6:amd64 (6.4+20231121-1) sur (6.4+20231016-1) ...
Préparation du dépaquetage de .../libtinfo6_6.4+20231121-1_amd64.deb ...
Dépaquetage de libtinfo6:amd64 (6.4+20231121-1) sur (6.4+20231016-1) ...
Paramétrage de libtinfo6:amd64 (6.4+20231121-1) ...
(Lecture de la base de données... 33255 fichiers et répertoires déjà installés.)
Préparation du dépaquetage de .../00-mawk_1.3.4.20231126-1_amd64.deb ...
Dépaquetage de mawk (1.3.4.20231126-1) sur (1.3.4.20231102-1) ...
Préparation du dépaquetage de .../01-tzdata_2023c-11_all.deb ...
Dépaquetage de tzdata (2023c-11) sur (2023c-10) ...
Préparation du dépaquetage de .../02-cron-daemon-common_3.0pl1-180_all.deb ...
Dépaquetage de cron-daemon-common (3.0pl1-180) sur (3.0pl1-178) ...
Préparation du dépaquetage de .../03-libelf1_0.190-1_amd64.deb ...
Dépaquetage de libelf1:amd64 (0.190-1) sur (0.189-4) ...
Préparation du dépaquetage de .../04-iproute2_6.6.0-1_amd64.deb ...
Dépaquetage de iproute2 (6.6.0-1) sur (6.5.0-5) ...
Préparation du dépaquetage de .../05-readline-common_8.2-3_all.deb ...
Dépaquetage de readline-common (8.2-3) sur (8.2-1.3) ...
Préparation du dépaquetage de .../06-vim_2%3a9.0.2116-1_amd64.deb ...
Dépaquetage de vim (2:9.0.2116-1) sur (2:9.0.1894-1) ...
Préparation du dépaquetage de .../07-vim-common_2%3a9.0.2116-1_all.deb ...
Dépaquetage de vim-common (2:9.0.2116-1) sur (2:9.0.1894-1) ...
Préparation du dépaquetage de .../08-vim-tiny_2%3a9.0.2116-1_amd64.deb ...
Dépaquetage de vim-tiny (2:9.0.2116-1) sur (2:9.0.1894-1) ...
Préparation du dépaquetage de .../09-vim-runtime_2%3a9.0.2116-1_all.deb ...
Dépaquetage de vim-runtime (2:9.0.2116-1) sur (2:9.0.1894-1) ...
Préparation du dépaquetage de .../10-python3-newt_0.52.24-1+b1_amd64.deb ...
Dépaquetage de python3-newt:amd64 (0.52.24-1+b1) sur (0.52.24-1) ...
Préparation du dépaquetage de .../11-libnewt0.52_0.52.24-1+b1_amd64.deb ...
Dépaquetage de libnewt0.52:amd64 (0.52.24-1+b1) sur (0.52.24-1) ...
Préparation du dépaquetage de .../12-whiptail_0.52.24-1+b1_amd64.deb ...
Dépaquetage de whiptail (0.52.24-1+b1) sur (0.52.24-1) ...
Préparation du dépaquetage de .../13-netcat-traditional_1.10-48_amd64.deb ...
Dépaquetage de netcat-traditional (1.10-48) sur (1.10-47) ...
Préparation du dépaquetage de .../14-xz-utils_5.4.5-0.1_amd64.deb ...
Dépaquetage de xz-utils (5.4.5-0.1) sur (5.4.4-0.1) ...
Préparation du dépaquetage de .../15-apparmor_3.0.12-1+b1_amd64.deb ...
Dépaquetage de apparmor (3.0.12-1+b1) sur (3.0.12-1) ...
Préparation du dépaquetage de .../16-libgprofng0_2.41-7_amd64.deb ...
Dépaquetage de libgprofng0:amd64 (2.41-7) sur (2.41-6) ...
Préparation du dépaquetage de .../17-libctf0_2.41-7_amd64.deb ...
Dépaquetage de libctf0:amd64 (2.41-7) sur (2.41-6) ...
Préparation du dépaquetage de .../18-libctf-nobfd0_2.41-7_amd64.deb ...
Dépaquetage de libctf-nobfd0:amd64 (2.41-7) sur (2.41-6) ...
Préparation du dépaquetage de .../19-binutils-x86-64-linux-gnu_2.41-7_amd64.deb ...
Dépaquetage de binutils-x86-64-linux-gnu (2.41-7) sur (2.41-6) ...
Préparation du dépaquetage de .../20-libbinutils_2.41-7_amd64.deb ...
Dépaquetage de libbinutils:amd64 (2.41-7) sur (2.41-6) ...
Préparation du dépaquetage de .../21-binutils_2.41-7_amd64.deb ...
Dépaquetage de binutils (2.41-7) sur (2.41-6) ...
Préparation du dépaquetage de .../22-binutils-common_2.41-7_amd64.deb ...
Dépaquetage de binutils-common:amd64 (2.41-7) sur (2.41-6) ...
Préparation du dépaquetage de .../23-libsframe1_2.41-7_amd64.deb ...
Dépaquetage de libsframe1:amd64 (2.41-7) sur (2.41-6) ...
Préparation du dépaquetage de .../24-busybox_1%3a1.36.1-5_amd64.deb ...
Dépaquetage de busybox (1:1.36.1-5) sur (1:1.36.1-3.1+b1) ...
Préparation du dépaquetage de .../25-distro-info-data_0.60_all.deb ...
Dépaquetage de distro-info-data (0.60) sur (0.59) ...
Préparation du dépaquetage de .../26-libapparmor1_3.0.12-1+b1_amd64.deb ...
Dépaquetage de libapparmor1:amd64 (3.0.12-1+b1) sur (3.0.12-1) ...
Préparation du dépaquetage de .../27-libbrotli1_1.1.0-2+b1_amd64.deb ...
Dépaquetage de libbrotli1:amd64 (1.1.0-2+b1) sur (1.0.9-2+b6) ...
Préparation du dépaquetage de .../28-libfido2-1_1.14.0-1_amd64.deb ...
Dépaquetage de libfido2-1:amd64 (1.14.0-1) sur (1.13.0-1+b1) ...
Préparation du dépaquetage de .../29-libreadline8_8.2-3_amd64.deb ...
Dépaquetage de libreadline8:amd64 (8.2-3) sur (8.2-1.3) ...
Préparation du dépaquetage de .../30-libsqlite3-0_3.44.2-1_amd64.deb ...
Dépaquetage de libsqlite3-0:amd64 (3.44.2-1) sur (3.44.0-1) ...
Préparation du dépaquetage de .../31-libssh2-1_1.11.0-3_amd64.deb ...
Dépaquetage de libssh2-1:amd64 (1.11.0-3) sur (1.11.0-2) ...
Préparation du dépaquetage de .../32-libuchardet0_0.0.8-1_amd64.deb ...
Dépaquetage de libuchardet0:amd64 (0.0.8-1) sur (0.0.7-1) ...
Préparation du dépaquetage de .../33-libxml2_2.9.14+dfsg-1.3+b1_amd64.deb ...
Dépaquetage de libxml2:amd64 (2.9.14+dfsg-1.3+b1) sur (2.9.14+dfsg-1.3) ...
Préparation du dépaquetage de .../34-needrestart_3.6-6_all.deb ...
Dépaquetage de needrestart (3.6-6) sur (3.6-5) ...
Préparation du dépaquetage de .../35-pci.ids_0.0~2023.11.11-1_all.deb ...
Dépaquetage de pci.ids (0.0~2023.11.11-1) sur (0.0~2023.09.22-1) ...
Préparation du dépaquetage de .../36-python-apt-common_2.7.0_all.deb ...
Dépaquetage de python-apt-common (2.7.0) sur (2.6.0) ...
Préparation du dépaquetage de .../37-python3-apt_2.7.0+b1_amd64.deb ...
Dépaquetage de python3-apt (2.7.0+b1) sur (2.6.0) ...
Préparation du dépaquetage de .../38-python3-charset-normalizer_3.3.2-1_all.deb ...
Dépaquetage de python3-charset-normalizer (3.3.2-1) sur (3.3.0-1) ...
Préparation du dépaquetage de .../39-python3-pycurl_7.45.2-6+b1_amd64.deb ...
Dépaquetage de python3-pycurl (7.45.2-6+b1) sur (7.45.2-6) ...
Préparation du dépaquetage de .../40-shared-mime-info_2.4-1_amd64.deb ...
Dépaquetage de shared-mime-info (2.4-1) sur (2.2-1) ...
Paramétrage de libapparmor1:amd64 (3.0.12-1+b1) ...
Paramétrage de pci.ids (0.0~2023.11.11-1) ...
Paramétrage de libnewt0.52:amd64 (0.52.24-1+b1) ...
Paramétrage de netcat-traditional (1.10-48) ...
Paramétrage de init (1.66) ...
Paramétrage de distro-info-data (0.60) ...
Paramétrage de python3-charset-normalizer (3.3.2-1) ...
Paramétrage de libbrotli1:amd64 (1.1.0-2+b1) ...
Paramétrage de libsqlite3-0:amd64 (3.44.2-1) ...
Paramétrage de binutils-common:amd64 (2.41-7) ...
Paramétrage de libctf-nobfd0:amd64 (2.41-7) ...
Paramétrage de python3-newt:amd64 (0.52.24-1+b1) ...
Paramétrage de libsframe1:amd64 (2.41-7) ...
Paramétrage de tzdata (2023c-11) ...#####################################################...........................]
Extraction des modèles depuis les paquets : 100%
Current default time zone: 'Europe/Paris'
Local time is now:      Mon Dec  4 20:52:48 CET 2023.
Universal Time is now:  Mon Dec  4 19:52:48 UTC 2023.
Run 'dpkg-reconfigure tzdata' if you wish to change it.

Paramétrage de apparmor (3.0.12-1+b1) ...
Paramétrage de perl-modules-5.36 (5.36.0-10) ...###########################################.........................]
Paramétrage de python3-pycurl (7.45.2-6+b1) ...#############################################........................]
Paramétrage de vim-common (2:9.0.2116-1) ...
Paramétrage de xz-utils (5.4.5-0.1) ...######################################################.......................]
Paramétrage de libncursesw6:amd64 (6.4+20231121-1) ...########################################......................]
Paramétrage de whiptail (0.52.24-1+b1) ...#####################################################.....................]
Paramétrage de python-apt-common (2.7.0) ...
Paramétrage de libuchardet0:amd64 (0.0.8-1) ...#################################################....................]
Paramétrage de mawk (1.3.4.20231126-1) ...########################################################..................]
Paramétrage de libbinutils:amd64 (2.41-7) ...
Paramétrage de vim-runtime (2:9.0.2116-1) ...######################################################.................]
Paramétrage de libelf1:amd64 (0.190-1) ...##########################################################................]
Paramétrage de readline-common (8.2-3) ...
Paramétrage de libxml2:amd64 (2.9.14+dfsg-1.3+b1) ...#################################################..............]
Paramétrage de libgdbm6:amd64 (1.23-5) ...#############################################################.............]
Paramétrage de ncurses-term (6.4+20231121-1) ...
Paramétrage de cron-daemon-common (3.0pl1-180) ...######################################################............]
Paramétrage de libctf0:amd64 (2.41-7) ...###############################################################............]
Paramétrage de vim (2:9.0.2116-1) ...####################################################################...........]
Paramétrage de python3-apt (2.7.0+b1) ...
Paramétrage de iproute2 (6.6.0-1) ...#####################################################################..........]
Paramétrage de cron (3.0pl1-180) ...########################################################################........]
Paramétrage de libgprofng0:amd64 (2.41-7) ...################################################################.......]
Paramétrage de shared-mime-info (2.4-1) ...###################################################################......]
Paramétrage de libgdbm-compat4:amd64 (1.23-5) ...##############################################################.....]
Paramétrage de libperl5.36:amd64 (5.36.0-10) ...
Paramétrage de binutils-x86-64-linux-gnu (2.41-7) ...###########################################################....]
Paramétrage de binutils (2.41-7) ...#############################################################################...]
Paramétrage de perl (5.36.0-10) ...###############################################################################..]
Paramétrage de needrestart (3.6-6) ...
Traitement des actions différées (« triggers ») pour libc-bin (2.37-12) ...########################################.]
Scanning processes...
Scanning candidates...
Scanning linux images...
Traitement des actions différées (« triggers ») pour initramfs-tools (0.142) ...
Running kernel seems to be up-to-date.trd.img-6.5.0-4-amd64

Restarting services...
 /etc/needrestart/restart.d/systemd-manager
 /etc/needrestart/restart.d/systemd-manager
 systemctl restart ssh.service systemd-journald.service systemd-timesyncd.service systemd-udevd.service
Service restarts being deferred:
 /etc/needrestart/restart.d/dbus.service
 systemctl restart systemd-logind.service
 systemctl restart unattended-upgrades.service

No containers need to be restarted.

User sessions running outdated binaries:
 etu @ session #182: apt[11210], sshd[11022,11040]
 etu @ user manager service: systemd[11027]

No VM guests are running outdated hypervisor (qemu) binaries on this host.
```
## Commutateur C-3PO et accès réseau
### Installation Openvswitch
```Powershell
etu@vm0:~$ sudo apt install openvswitch-switch snapd
Lecture des listes de paquets... Fait
Construction de l arbre des dépendances... Fait
Lecture des informations d état... Fait
Les paquets supplémentaires suivants seront installés :
  dirmngr gnupg gnupg-l10n gnupg-utils gnupg1 gnupg1-l10n gpg gpg-agent gpg-wks-client gpg-wks-server gpgconf gpgsm
  libassuan0 libevent-2.1-7 libksba8 liblzo2-2 libnpth0 libunbound8 libxdp1 openvswitch-common pinentry-curses
  python3-netifaces python3-openvswitch python3-sortedcontainers squashfs-tools uuid-runtime
Paquets suggérés :
  pinentry-gnome3 tor parcimonie xloadimage libpcsclite1 xloadimage | imagemagick | eog scdaemon ethtool
  openvswitch-doc pinentry-doc python3-netaddr python-sortedcontainers-doc zenity | kdialog
Les NOUVEAUX paquets suivants seront installés :
  dirmngr gnupg gnupg-l10n gnupg-utils gnupg1 gnupg1-l10n gpg gpg-agent gpg-wks-client gpg-wks-server gpgconf gpgsm
  libassuan0 libevent-2.1-7 libksba8 liblzo2-2 libnpth0 libunbound8 libxdp1 openvswitch-common openvswitch-switch
  pinentry-curses python3-netifaces python3-openvswitch python3-sortedcontainers snapd squashfs-tools uuid-runtime
0 mis à jour, 28 nouvellement installés, 0 à enlever et 0 non mis à jour.
Il est nécessaire de prendre 30,5 Mo dans les archives.
Après cette opération, 114 Mo d espace disque supplémentaires seront utilisés.
Souhaitez-vous continuer ? [O/n] o
Réception de :1 http://deb.debian.org/debian testing/main amd64 libevent-2.1-7 amd64 2.1.12-stable-8 [180 kB]
Réception de :2 http://deb.debian.org/debian testing/main amd64 libunbound8 amd64 1.18.0-2 [563 kB]
Réception de :3 http://deb.debian.org/debian testing/main amd64 libxdp1 amd64 1.4.0-1 [56,6 kB]
Réception de :4 http://deb.debian.org/debian testing/main amd64 openvswitch-common amd64 3.2.0-2 [1 934 kB]
Réception de :5 http://deb.debian.org/debian testing/main amd64 python3-netifaces amd64 0.11.0-2+b2 [19,4 kB]
Réception de :6 http://deb.debian.org/debian testing/main amd64 python3-sortedcontainers all 2.4.0-2 [31,9 kB]
Réception de :7 http://deb.debian.org/debian testing/main amd64 python3-openvswitch amd64 3.2.0-2 [946 kB]
Réception de :8 http://deb.debian.org/debian testing/main amd64 uuid-runtime amd64 2.39.2-6 [49,2 kB]
Réception de :9 http://deb.debian.org/debian testing/main amd64 openvswitch-switch amd64 3.2.0-2 [1 711 kB]
Réception de :10 http://deb.debian.org/debian testing/main amd64 libassuan0 amd64 2.5.6-1 [49,9 kB]
Réception de :11 http://deb.debian.org/debian testing/main amd64 gpgconf amd64 2.2.40-1.1 [564 kB]
Réception de :12 http://deb.debian.org/debian testing/main amd64 libksba8 amd64 1.6.4-2 [130 kB]
Réception de :13 http://deb.debian.org/debian testing/main amd64 libnpth0 amd64 1.6-3 [19,0 kB]
Réception de :14 http://deb.debian.org/debian testing/main amd64 dirmngr amd64 2.2.40-1.1 [792 kB]
Réception de :15 http://deb.debian.org/debian testing/main amd64 gnupg-l10n all 2.2.40-1.1 [1 093 kB]
Réception de :16 http://deb.debian.org/debian testing/main amd64 gnupg-utils amd64 2.2.40-1.1 [927 kB]
Réception de :17 http://deb.debian.org/debian testing/main amd64 gpg amd64 2.2.40-1.1 [949 kB]
Réception de :18 http://deb.debian.org/debian testing/main amd64 pinentry-curses amd64 1.2.1-3 [78,1 kB]
Réception de :19 http://deb.debian.org/debian testing/main amd64 gpg-agent amd64 2.2.40-1.1 [695 kB]
Réception de :20 http://deb.debian.org/debian testing/main amd64 gpg-wks-client amd64 2.2.40-1.1 [541 kB]
Réception de :21 http://deb.debian.org/debian testing/main amd64 gpg-wks-server amd64 2.2.40-1.1 [531 kB]
Réception de :22 http://deb.debian.org/debian testing/main amd64 gpgsm amd64 2.2.40-1.1 [671 kB]
Réception de :23 http://deb.debian.org/debian testing/main amd64 gnupg all 2.2.40-1.1 [846 kB]
Réception de :24 http://deb.debian.org/debian testing/main amd64 gnupg1 amd64 1.4.23-1.1+b1 [601 kB]
Réception de :25 http://deb.debian.org/debian testing/main amd64 gnupg1-l10n all 1.4.23-1.1 [553 kB]
Réception de :26 http://deb.debian.org/debian testing/main amd64 liblzo2-2 amd64 2.10-2 [56,9 kB]
Réception de :27 http://deb.debian.org/debian testing/main amd64 squashfs-tools amd64 1:4.6.1-1 [194 kB]
Réception de :28 http://deb.debian.org/debian testing/main amd64 snapd amd64 2.60.2-1+b2 [15,7 MB]
30,5 Mo réceptionnés en 2s (14,8 Mo/s)
Sélection du paquet libevent-2.1-7:amd64 précédemment désélectionné.
(Lecture de la base de données... 33275 fichiers et répertoires déjà installés.)
Préparation du dépaquetage de .../00-libevent-2.1-7_2.1.12-stable-8_amd64.deb ...
Dépaquetage de libevent-2.1-7:amd64 (2.1.12-stable-8) ...
Sélection du paquet libunbound8:amd64 précédemment désélectionné.
Préparation du dépaquetage de .../01-libunbound8_1.18.0-2_amd64.deb ...
Dépaquetage de libunbound8:amd64 (1.18.0-2) ...
Sélection du paquet libxdp1:amd64 précédemment désélectionné.
Préparation du dépaquetage de .../02-libxdp1_1.4.0-1_amd64.deb ...
Dépaquetage de libxdp1:amd64 (1.4.0-1) ...
Sélection du paquet openvswitch-common précédemment désélectionné.
Préparation du dépaquetage de .../03-openvswitch-common_3.2.0-2_amd64.deb ...
Dépaquetage de openvswitch-common (3.2.0-2) ...
Sélection du paquet python3-netifaces:amd64 précédemment désélectionné.
Préparation du dépaquetage de .../04-python3-netifaces_0.11.0-2+b2_amd64.deb ...
Dépaquetage de python3-netifaces:amd64 (0.11.0-2+b2) ...
Sélection du paquet python3-sortedcontainers précédemment désélectionné.
Préparation du dépaquetage de .../05-python3-sortedcontainers_2.4.0-2_all.deb ...
Dépaquetage de python3-sortedcontainers (2.4.0-2) ...
Sélection du paquet python3-openvswitch précédemment désélectionné.
Préparation du dépaquetage de .../06-python3-openvswitch_3.2.0-2_amd64.deb ...
Dépaquetage de python3-openvswitch (3.2.0-2) ...
Sélection du paquet uuid-runtime précédemment désélectionné.
Préparation du dépaquetage de .../07-uuid-runtime_2.39.2-6_amd64.deb ...
Dépaquetage de uuid-runtime (2.39.2-6) ...
Sélection du paquet openvswitch-switch précédemment désélectionné.
Préparation du dépaquetage de .../08-openvswitch-switch_3.2.0-2_amd64.deb ...
Dépaquetage de openvswitch-switch (3.2.0-2) ...
Sélection du paquet libassuan0:amd64 précédemment désélectionné.
Préparation du dépaquetage de .../09-libassuan0_2.5.6-1_amd64.deb ...
Dépaquetage de libassuan0:amd64 (2.5.6-1) ...
Sélection du paquet gpgconf précédemment désélectionné.
Préparation du dépaquetage de .../10-gpgconf_2.2.40-1.1_amd64.deb ...
Dépaquetage de gpgconf (2.2.40-1.1) ...
Sélection du paquet libksba8:amd64 précédemment désélectionné.
Préparation du dépaquetage de .../11-libksba8_1.6.4-2_amd64.deb ...
Dépaquetage de libksba8:amd64 (1.6.4-2) ...
Sélection du paquet libnpth0:amd64 précédemment désélectionné.
Préparation du dépaquetage de .../12-libnpth0_1.6-3_amd64.deb ...
Dépaquetage de libnpth0:amd64 (1.6-3) ...
Sélection du paquet dirmngr précédemment désélectionné.
Préparation du dépaquetage de .../13-dirmngr_2.2.40-1.1_amd64.deb ...
Dépaquetage de dirmngr (2.2.40-1.1) ...
Sélection du paquet gnupg-l10n précédemment désélectionné.
Préparation du dépaquetage de .../14-gnupg-l10n_2.2.40-1.1_all.deb ...
Dépaquetage de gnupg-l10n (2.2.40-1.1) ...
Sélection du paquet gnupg-utils précédemment désélectionné.
Préparation du dépaquetage de .../15-gnupg-utils_2.2.40-1.1_amd64.deb ...
Dépaquetage de gnupg-utils (2.2.40-1.1) ...
Sélection du paquet gpg précédemment désélectionné.
Préparation du dépaquetage de .../16-gpg_2.2.40-1.1_amd64.deb ...
Dépaquetage de gpg (2.2.40-1.1) ...
Sélection du paquet pinentry-curses précédemment désélectionné.
Préparation du dépaquetage de .../17-pinentry-curses_1.2.1-3_amd64.deb ...
Dépaquetage de pinentry-curses (1.2.1-3) ...
Sélection du paquet gpg-agent précédemment désélectionné.
Préparation du dépaquetage de .../18-gpg-agent_2.2.40-1.1_amd64.deb ...
Dépaquetage de gpg-agent (2.2.40-1.1) ...
Sélection du paquet gpg-wks-client précédemment désélectionné.
Préparation du dépaquetage de .../19-gpg-wks-client_2.2.40-1.1_amd64.deb ...
Dépaquetage de gpg-wks-client (2.2.40-1.1) ...
Sélection du paquet gpg-wks-server précédemment désélectionné.
Préparation du dépaquetage de .../20-gpg-wks-server_2.2.40-1.1_amd64.deb ...
Dépaquetage de gpg-wks-server (2.2.40-1.1) ...
Sélection du paquet gpgsm précédemment désélectionné.
Préparation du dépaquetage de .../21-gpgsm_2.2.40-1.1_amd64.deb ...
Dépaquetage de gpgsm (2.2.40-1.1) ...
Sélection du paquet gnupg précédemment désélectionné.
Préparation du dépaquetage de .../22-gnupg_2.2.40-1.1_all.deb ...
Dépaquetage de gnupg (2.2.40-1.1) ...
Sélection du paquet gnupg1 précédemment désélectionné.
Préparation du dépaquetage de .../23-gnupg1_1.4.23-1.1+b1_amd64.deb ...
Dépaquetage de gnupg1 (1.4.23-1.1+b1) ...
Sélection du paquet gnupg1-l10n précédemment désélectionné.
Préparation du dépaquetage de .../24-gnupg1-l10n_1.4.23-1.1_all.deb ...
Dépaquetage de gnupg1-l10n (1.4.23-1.1) ...
Sélection du paquet liblzo2-2:amd64 précédemment désélectionné.
Préparation du dépaquetage de .../25-liblzo2-2_2.10-2_amd64.deb ...
Dépaquetage de liblzo2-2:amd64 (2.10-2) ...
Sélection du paquet squashfs-tools précédemment désélectionné.
Préparation du dépaquetage de .../26-squashfs-tools_1%3a4.6.1-1_amd64.deb ...
Dépaquetage de squashfs-tools (1:4.6.1-1) ...
Sélection du paquet snapd précédemment désélectionné.
Préparation du dépaquetage de .../27-snapd_2.60.2-1+b2_amd64.deb ...
Dépaquetage de snapd (2.60.2-1+b2) ...
Paramétrage de libksba8:amd64 (1.6.4-2) ...
Paramétrage de gnupg1 (1.4.23-1.1+b1) ...
Paramétrage de gnupg1-l10n (1.4.23-1.1) ...
Paramétrage de liblzo2-2:amd64 (2.10-2) ...
Paramétrage de libnpth0:amd64 (1.6-3) ...
Paramétrage de python3-sortedcontainers (2.4.0-2) ...
Paramétrage de libassuan0:amd64 (2.5.6-1) ...
Paramétrage de libxdp1:amd64 (1.4.0-1) ...
Paramétrage de gnupg-l10n (2.2.40-1.1) ...
Paramétrage de libevent-2.1-7:amd64 (2.1.12-stable-8) ...
Paramétrage de python3-netifaces:amd64 (0.11.0-2+b2) ...
Paramétrage de uuid-runtime (2.39.2-6) ...
info: Choix d un GID dans la plage 100 à 999 ...
info: Ajout du groupe « uuidd » (GID 109)...
Created symlink /etc/systemd/system/sockets.target.wants/uuidd.socket → /lib/systemd/system/uuidd.socket.
uuidd.service is a disabled or a static unit, not starting it.
Paramétrage de gpgconf (2.2.40-1.1) ...
Paramétrage de gpg (2.2.40-1.1) ...
Paramétrage de gnupg-utils (2.2.40-1.1) ...
Paramétrage de pinentry-curses (1.2.1-3) ...
Paramétrage de gpg-agent (2.2.40-1.1) ...
Created symlink /etc/systemd/user/sockets.target.wants/gpg-agent-browser.socket → /usr/lib/systemd/user/gpg-agent-browser.socket.
Created symlink /etc/systemd/user/sockets.target.wants/gpg-agent-extra.socket → /usr/lib/systemd/user/gpg-agent-extra.socket.
Created symlink /etc/systemd/user/sockets.target.wants/gpg-agent-ssh.socket → /usr/lib/systemd/user/gpg-agent-ssh.socket.
Created symlink /etc/systemd/user/sockets.target.wants/gpg-agent.socket → /usr/lib/systemd/user/gpg-agent.socket.
Paramétrage de squashfs-tools (1:4.6.1-1) ...
Paramétrage de gpgsm (2.2.40-1.1) ...
Paramétrage de dirmngr (2.2.40-1.1) ...
Created symlink /etc/systemd/user/sockets.target.wants/dirmngr.socket → /usr/lib/systemd/user/dirmngr.socket.
Paramétrage de libunbound8:amd64 (1.18.0-2) ...
Paramétrage de gpg-wks-server (2.2.40-1.1) ...
Paramétrage de openvswitch-common (3.2.0-2) ...
Paramétrage de snapd (2.60.2-1+b2) ...
Created symlink /etc/systemd/system/multi-user.target.wants/snapd.aa-prompt-listener.service → /lib/systemd/system/snapd.aa-prompt-listener.service.
Created symlink /etc/systemd/system/multi-user.target.wants/snapd.apparmor.service → /lib/systemd/system/snapd.apparmor.service.
Created symlink /etc/systemd/system/multi-user.target.wants/snapd.recovery-chooser-trigger.service → /lib/systemd/system/snapd.recovery-chooser-trigger.service.
Created symlink /etc/systemd/system/multi-user.target.wants/snapd.seeded.service → /lib/systemd/system/snapd.seeded.service.
Created symlink /etc/systemd/system/cloud-final.service.wants/snapd.seeded.service → /lib/systemd/system/snapd.seeded.service.
Unit /lib/systemd/system/snapd.seeded.service is added as a dependency to a non-existent unit cloud-final.service.
Created symlink /etc/systemd/system/multi-user.target.wants/snapd.service → /lib/systemd/system/snapd.service.
Created symlink /etc/systemd/system/sockets.target.wants/snapd.socket → /lib/systemd/system/snapd.socket.
snapd.mounts-pre.target is a disabled or a static unit, not starting it.
snapd.mounts.target is a disabled or a static unit, not starting it.
Paramétrage de gpg-wks-client (2.2.40-1.1) ...
Paramétrage de python3-openvswitch (3.2.0-2) ...
Paramétrage de gnupg (2.2.40-1.1) ...
Paramétrage de openvswitch-switch (3.2.0-2) ...
update-alternatives: utilisation de « /usr/lib/openvswitch-switch/ovs-vswitchd » pour fournir « /usr/sbin/ovs-vswitchd » (ovs-vswitchd) en mode automatique
Created symlink /etc/systemd/system/openvswitch-switch.service.requires/ovs-record-hostname.service → /lib/systemd/system/ovs-record-hostname.service.
Created symlink /etc/systemd/system/multi-user.target.wants/openvswitch-switch.service → /lib/systemd/system/openvswitch-switch.service.
Traitement des actions différées (« triggers ») pour man-db (2.12.0-1) ...
Traitement des actions différées (« triggers ») pour dbus (1.14.10-3) ...
Traitement des actions différées (« triggers ») pour mailcap (3.70+nmu1) ...
Traitement des actions différées (« triggers ») pour libc-bin (2.37-12) ...
Scanning processes...
Scanning candidates...
Scanning linux images...

Running kernel seems to be up-to-date.

Restarting services...
Service restarts being deferred:
 /etc/needrestart/restart.d/dbus.service
 systemctl restart systemd-logind.service
 systemctl restart unattended-upgrades.service

No containers need to be restarted.

User sessions running outdated binaries:
 etu @ session #182: sshd[11022,11040]
 etu @ user manager service: systemd[11027]

No VM guests are running outdated hypervisor (qemu) binaries on this host.
```
### Installation lxd
```Powershell
etu@vm0:~$ sudo snap install lxd
2023-12-04T20:55:20+01:00 INFO Waiting for automatic snapd restart...
lxd 5.19-8635f82 from Canonical✓ installed
etu@vm0:~$ sudo adduser etu lxd
info: Ajout de l utilisateur « etu » au groupe « lxd » ...
etu@vm0:~$ exit
déconnexion
Connection to 2001:678:3fc:3c:baad:caff:fefe:39 closed.
PS C:\Users\hp> ssh vm0
etu@2001:678:3fc:3c:baad:caff:fefe:39 s password:
Linux vm0 6.5.0-4-amd64 #1 SMP PREEMPT_DYNAMIC Debian 6.5.10-1 (2023-11-03) x86_64

The programs included with the Debian GNU/Linux system are free software;
the exact distribution terms for each program are described in the
individual files in /usr/share/doc/*/copyright.

Debian GNU/Linux comes with ABSOLUTELY NO WARRANTY, to the extent
permitted by applicable law.
Last login: Mon Dec  4 20:50:57 2023 from 2a03:7220:8083:c4c4::1012
etu@vm0:~$ id | grep -o lxd
lxd
etu@vm0:~$ echo $PATH
/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:/snap/bin
```
### Éditer le fichier /etc/network/interfaces et Redémarrage la machine virtuelle
```Powershell
etu@vm0:~$ sudo vim /etc/network/interfaces
[sudo] Mot de passe de etu :
    # This file describes the network 
    # interfaces available on your system
    # and how to activate them.
    # For more information, see interfaces(5).
    source /etc/network/interfaces.d/*
    # The loopback network interface
    auto lo
    iface lo inet loopback
    # The primary network interface
    auto C-3PO
    iface C-3PO inet dhcp
        ovs_type OVSBridge
        ovs_ports enp0s1
    allow-C-3PO enp0s1
    iface enp0s1 inet manual
        ovs_bridge C-3PO
        ovs_type OVSPort
        up ip link set dev $IFACE up
        down ip link set dev $IFACE down
etu@vm0:~$
etu@vm0:~$ sudo reboot

Broadcast message from root@vm0 on pts/1 (Mon 2023-12-04 21:42:26 CET):

The system will reboot now!

etu@vm0:~$ Connection to 2001:678:3fc:3c:baad:caff:fefe:39 closed by remote host.
Connection to 2001:678:3fc:3c:baad:caff:fefe:39 closed.
```
### Vérification de l’état des interfaces
```Powershell
PS C:\Users\hp> ssh vm0
etu@2001:678:3fc:3c:baad:caff:fefe:39 s password:
Linux vm0 6.5.0-4-amd64 #1 SMP PREEMPT_DYNAMIC Debian 6.5.10-1 (2023-11-03) x86_64

The programs included with the Debian GNU/Linux system are free software;
the exact distribution terms for each program are described in the
individual files in /usr/share/doc/*/copyright.

Debian GNU/Linux comes with ABSOLUTELY NO WARRANTY, to the extent
permitted by applicable law.
Last login: Mon Dec  4 21:24:57 2023 from fe80::64f4:67ff:fed5:a75c%enp0s1
etu@vm0:~$ ip addr ls
1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
    inet6 ::1/128 scope host noprefixroute
       valid_lft forever preferred_lft forever
2: enp0s1: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc mq master ovs-system state UP group default qlen 1000
    link/ether b8:ad:ca:fe:00:39 brd ff:ff:ff:ff:ff:ff
    inet6 fe80::baad:caff:fefe:39/64 scope link proto kernel_ll
       valid_lft forever preferred_lft forever
3: ovs-system: <BROADCAST,MULTICAST> mtu 1500 qdisc noop state DOWN group default qlen 1000
    link/ether 9a:a2:da:57:72:90 brd ff:ff:ff:ff:ff:ff
4: C-3P0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc noqueue state UNKNOWN group default qlen 1000
    link/ether b8:ad:ca:fe:00:39 brd ff:ff:ff:ff:ff:ff
    inet 198.18.61.57/23 brd 198.18.61.255 scope global dynamic C-3P0
       valid_lft 86368sec preferred_lft 86368sec
    inet6 2001:678:3fc:3c:baad:caff:fefe:39/64 scope global dynamic mngtmpaddr proto kernel_ra
       valid_lft 86400sec preferred_lft 14400sec
    inet6 fe80::baad:caff:fefe:39/64 scope link proto kernel_ll
       valid_lft forever preferred_lft forever
```
###  Configuration initiale et Raccordement au commutateur C-3P0
```Powershell
etu@vm0:~$ lxd init
Would you like to use LXD clustering? (yes/no) [default=no]:
Do you want to configure a new storage pool? (yes/no) [default=yes]:
Name of the new storage pool [default=default]:
Name of the storage backend to use (btrfs, ceph, dir, lvm) [default=btrfs]:
Create a new BTRFS pool? (yes/no) [default=yes]:
Would you like to use an existing empty block device (e.g. a disk or partition)? (yes/no) [default=no]:
Size in GiB of the new loop device (1GiB minimum) [default=11GiB]:
Would you like to connect to a MAAS server? (yes/no) [default=no]:
Would you like to create a new local network bridge? (yes/no) [default=yes]: no
Would you like to configure LXD to use an existing bridge or host interface? (yes/no) [default=no]: yes
Name of the existing bridge or host interface: C-3P0
Would you like the LXD server to be available over the network? (yes/no) [default=no]:
Would you like stale cached images to be updated automatically? (yes/no) [default=yes]:
Would you like a YAML "lxd init" preseed to be printed? (yes/no) [default=no]:
etu@vm0:~$
etu@vm0:~$ lxc profile device set default eth0 nictype bridged
To start your first container, try: lxc launch ubuntu:22.04
Or for a virtual machine: lxc launch ubuntu:22.04 --vm
etu@vm0:~$
```
## Lancement & accès à 2 conteneurs
### Téléchargement des images et lancement des conteneurs
```Powershell
etu@vm0:~$ lxc launch images:debian/12 c0
Creating c0
Starting c0
etu@vm0:~$ lxc launch images:ubuntu/jammy c1
Creating c1
Starting c1
etu@vm0:~$ lxc ls
+------+---------+----------------------+-------------------------------------------+-----------+-----------+
| NAME |  STATE  |         IPV4         |                   IPV6                    |   TYPE    | SNAPSHOTS |
+------+---------+----------------------+-------------------------------------------+-----------+-----------+
| c0   | RUNNING | 198.18.60.210 (eth0) | 2001:678:3fc:3c:216:3eff:febd:b6eb (eth0) | CONTAINER | 0         |
+------+---------+----------------------+-------------------------------------------+-----------+-----------+
| c1   | RUNNING | 198.18.60.212 (eth0) | 2001:678:3fc:3c:216:3eff:fe2d:a387 (eth0) | CONTAINER | 0         |
+------+---------+----------------------+-------------------------------------------+-----------+-----------+
etu@vm0:~$ for num in {0..1}; do lxc exec c$num -- apt update; done
Hit:1 http://deb.debian.org/debian bookworm InRelease
Get:2 http://deb.debian.org/debian bookworm-updates InRelease [52.1 kB]
Get:3 http://deb.debian.org/debian-security bookworm-security InRelease [48.0 kB]
Get:4 http://deb.debian.org/debian-security bookworm-security/main amd64 Packages [106 kB]
Fetched 206 kB in 1s (229 kB/s)
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
All packages are up to date.
Get:1 http://security.ubuntu.com/ubuntu jammy-security InRelease [110 kB]
Hit:2 http://archive.ubuntu.com/ubuntu jammy InRelease
Get:3 http://archive.ubuntu.com/ubuntu jammy-updates InRelease [119 kB]
Get:4 http://security.ubuntu.com/ubuntu jammy-security/universe amd64 Packages [810 kB]
Get:5 http://archive.ubuntu.com/ubuntu jammy-updates/universe amd64 Packages [1011 kB]
Get:6 http://security.ubuntu.com/ubuntu jammy-security/universe Translation-en [151 kB]
Get:7 http://archive.ubuntu.com/ubuntu jammy-updates/universe Translation-en [224 kB]
Fetched 2425 kB in 2s (1420 kB/s)
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
All packages are up to date.
```
### Création d’un compte utilisateur
```Powershell
etu@vm0:~$ for num in {0..1}; do lxc exec c$num -- adduser --disabled-password --gecos "" etu ; done
Adding user `etu' ...
Adding new group `etu' (1000) ...
Adding new user `etu' (1000) with group `etu (1000)' ...
Creating home directory `/home/etu' ...
Copying files from `/etc/skel' ...
Adding new user `etu' to supplemental / extra groups `users' ...
Adding user `etu' to group `users' ...
Adding user `etu' ...
Adding new group `etu' (1001) ...
Adding new user `etu' (1001) with group `etu' ...
Creating home directory `/home/etu' ...
Copying files from `/etc/skel' ...
etu@vm0:~$ for num in {0..1}; do lxc exec c$num -- apt install ssh nginx; done
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
The following additional packages will be installed:
  libnsl2 libwrap0 ncurses-term nginx-common openssh-server openssh-sftp-server runit-helper
  sensible-utils ucf
Suggested packages:
  fcgiwrap nginx-doc ssl-cert molly-guard monkeysphere ssh-askpass ufw
The following NEW packages will be installed:
  libnsl2 libwrap0 ncurses-term nginx nginx-common openssh-server openssh-sftp-server
  runit-helper sensible-utils ssh ucf
0 upgraded, 11 newly installed, 0 to remove and 0 not upgraded.
Need to get 2010 kB of archives.
After this operation, 9007 kB of additional disk space will be used.
Do you want to continue? [Y/n] y
Abort.
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
The following additional packages will be installed:
  fontconfig-config fonts-dejavu-core libbrotli1 libdeflate0 libfontconfig1 libfreetype6
  libgd3 libjbig0 libjpeg-turbo8 libjpeg8 libmaxminddb0 libnginx-mod-http-geoip2
  libnginx-mod-http-image-filter libnginx-mod-http-xslt-filter libnginx-mod-mail
  libnginx-mod-stream libnginx-mod-stream-geoip2 libpng16-16 libpsl5 libtiff5 libwebp7
  libwrap0 libxpm4 libxslt1.1 ncurses-term nginx-common nginx-core openssh-server
  openssh-sftp-server publicsuffix python3-distro ssh-import-id wget
Suggested packages:
  libgd-tools mmdb-bin fcgiwrap nginx-doc ssl-cert molly-guard monkeysphere ssh-askpass ufw
The following NEW packages will be installed:
  fontconfig-config fonts-dejavu-core libbrotli1 libdeflate0 libfontconfig1 libfreetype6
  libgd3 libjbig0 libjpeg-turbo8 libjpeg8 libmaxminddb0 libnginx-mod-http-geoip2
  libnginx-mod-http-image-filter libnginx-mod-http-xslt-filter libnginx-mod-mail
  libnginx-mod-stream libnginx-mod-stream-geoip2 libpng16-16 libpsl5 libtiff5 libwebp7
  libwrap0 libxpm4 libxslt1.1 ncurses-term nginx nginx-common nginx-core openssh-server
  openssh-sftp-server publicsuffix python3-distro ssh ssh-import-id wget
0 upgraded, 35 newly installed, 0 to remove and 0 not upgraded.
Need to get 5152 kB of archives.
After this operation, 18.8 MB of additional disk space will be used.
Do you want to continue? [Y/n] y
Get:1 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 openssh-sftp-server amd64 1:8.9p1-3ubuntu0.4 [38.7 kB]
Get:2 http://archive.ubuntu.com/ubuntu jammy/main amd64 libwrap0 amd64 7.6.q-31build2 [47.9 kB]
Get:3 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 openssh-server amd64 1:8.9p1-3ubuntu0.4 [434 kB]
Get:4 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 ssh all 1:8.9p1-3ubuntu0.4 [4852 B]
Get:5 http://archive.ubuntu.com/ubuntu jammy/main amd64 libmaxminddb0 amd64 1.5.2-1build2 [24.7 kB]
Get:6 http://archive.ubuntu.com/ubuntu jammy/main amd64 libpng16-16 amd64 1.6.37-3build5 [191 kB]
Get:7 http://archive.ubuntu.com/ubuntu jammy/main amd64 libpsl5 amd64 0.21.0-1.2build2 [58.4 kB]
Get:8 http://archive.ubuntu.com/ubuntu jammy/main amd64 publicsuffix all 20211207.1025-1 [129 kB]
Get:9 http://archive.ubuntu.com/ubuntu jammy/main amd64 wget amd64 1.21.2-2ubuntu1 [367 kB]
Get:10 http://archive.ubuntu.com/ubuntu jammy/main amd64 fonts-dejavu-core all 2.37-2build1 [1041 kB]
Get:11 http://archive.ubuntu.com/ubuntu jammy/main amd64 fontconfig-config all 2.13.1-4.2ubuntu5 [29.1 kB]
Get:12 http://archive.ubuntu.com/ubuntu jammy/main amd64 libbrotli1 amd64 1.0.9-2build6 [315 kB]
Get:13 http://archive.ubuntu.com/ubuntu jammy/main amd64 libdeflate0 amd64 1.10-2 [70.9 kB]
Get:14 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libfreetype6 amd64 2.11.1+dfsg-1ubuntu0.2 [389 kB]
Get:15 http://archive.ubuntu.com/ubuntu jammy/main amd64 libfontconfig1 amd64 2.13.1-4.2ubuntu5 [131 kB]
Get:16 http://archive.ubuntu.com/ubuntu jammy/main amd64 libjpeg-turbo8 amd64 2.1.2-0ubuntu1 [134 kB]
Get:17 http://archive.ubuntu.com/ubuntu jammy/main amd64 libjpeg8 amd64 8c-2ubuntu10 [2264 B]
Get:18 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libjbig0 amd64 2.1-3.1ubuntu0.22.04.1 [29.2 kB]
Get:19 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libwebp7 amd64 1.2.2-2ubuntu0.22.04.2 [206 kB]
Get:20 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libtiff5 amd64 4.3.0-6ubuntu0.7 [185 kB]
Get:21 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libxpm4 amd64 1:3.5.12-1ubuntu0.22.04.2 [36.7 kB]
Get:22 http://archive.ubuntu.com/ubuntu jammy/main amd64 libgd3 amd64 2.3.0-2ubuntu2 [129 kB]
Get:23 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 nginx-common all 1.18.0-6ubuntu14.4 [40.0 kB]
Get:24 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-http-geoip2 amd64 1.18.0-6ubuntu14.4 [11.9 kB]
Get:25 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-http-image-filter amd64 1.18.0-6ubuntu14.4 [15.4 kB]
Get:26 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libxslt1.1 amd64 1.1.34-4ubuntu0.22.04.1 [164 kB]
Get:27 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-http-xslt-filter amd64 1.18.0-6ubuntu14.4 [13.7 kB]
Get:28 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-mail amd64 1.18.0-6ubuntu14.4 [45.7 kB]
Get:29 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-stream amd64 1.18.0-6ubuntu14.4 [72.9 kB]
Get:30 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-stream-geoip2 amd64 1.18.0-6ubuntu14.4 [10.1 kB]
Get:31 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 ncurses-term all 6.3-2ubuntu0.1 [267 kB]
Get:32 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 nginx-core amd64 1.18.0-6ubuntu14.4 [484 kB]
Get:33 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 nginx amd64 1.18.0-6ubuntu14.4 [3872 B]
Get:34 http://archive.ubuntu.com/ubuntu jammy/main amd64 python3-distro all 1.7.0-1 [17.0 kB]
Get:35 http://archive.ubuntu.com/ubuntu jammy/main amd64 ssh-import-id all 5.11-0ubuntu1 [10.1 kB]
Fetched 5152 kB in 2s (2813 kB/s)
Extracting templates from packages: 100%
Preconfiguring packages ...
Selecting previously unselected package openssh-sftp-server.
(Reading database ... 16261 files and directories currently installed.)
Preparing to unpack .../00-openssh-sftp-server_1%3a8.9p1-3ubuntu0.4_amd64.deb ...
Unpacking openssh-sftp-server (1:8.9p1-3ubuntu0.4) ...
Selecting previously unselected package libwrap0:amd64.
Preparing to unpack .../01-libwrap0_7.6.q-31build2_amd64.deb ...
Unpacking libwrap0:amd64 (7.6.q-31build2) ...
Selecting previously unselected package openssh-server.
Preparing to unpack .../02-openssh-server_1%3a8.9p1-3ubuntu0.4_amd64.deb ...
Unpacking openssh-server (1:8.9p1-3ubuntu0.4) ...
Selecting previously unselected package ssh.
Preparing to unpack .../03-ssh_1%3a8.9p1-3ubuntu0.4_all.deb ...
Unpacking ssh (1:8.9p1-3ubuntu0.4) ...
Selecting previously unselected package libmaxminddb0:amd64.
Preparing to unpack .../04-libmaxminddb0_1.5.2-1build2_amd64.deb ...
Unpacking libmaxminddb0:amd64 (1.5.2-1build2) ...
Selecting previously unselected package libpng16-16:amd64.
Preparing to unpack .../05-libpng16-16_1.6.37-3build5_amd64.deb ...
Unpacking libpng16-16:amd64 (1.6.37-3build5) ...
Selecting previously unselected package libpsl5:amd64.
Preparing to unpack .../06-libpsl5_0.21.0-1.2build2_amd64.deb ...
Unpacking libpsl5:amd64 (0.21.0-1.2build2) ...
Selecting previously unselected package publicsuffix.
Preparing to unpack .../07-publicsuffix_20211207.1025-1_all.deb ...
Unpacking publicsuffix (20211207.1025-1) ...
Selecting previously unselected package wget.
Preparing to unpack .../08-wget_1.21.2-2ubuntu1_amd64.deb ...
Unpacking wget (1.21.2-2ubuntu1) ...
Selecting previously unselected package fonts-dejavu-core.
Preparing to unpack .../09-fonts-dejavu-core_2.37-2build1_all.deb ...
Unpacking fonts-dejavu-core (2.37-2build1) ...
Selecting previously unselected package fontconfig-config.
Preparing to unpack .../10-fontconfig-config_2.13.1-4.2ubuntu5_all.deb ...
Unpacking fontconfig-config (2.13.1-4.2ubuntu5) ...
Selecting previously unselected package libbrotli1:amd64.
Preparing to unpack .../11-libbrotli1_1.0.9-2build6_amd64.deb ...
Unpacking libbrotli1:amd64 (1.0.9-2build6) ...
Selecting previously unselected package libdeflate0:amd64.
Preparing to unpack .../12-libdeflate0_1.10-2_amd64.deb ...
Unpacking libdeflate0:amd64 (1.10-2) ...
Selecting previously unselected package libfreetype6:amd64.
Preparing to unpack .../13-libfreetype6_2.11.1+dfsg-1ubuntu0.2_amd64.deb ...
Unpacking libfreetype6:amd64 (2.11.1+dfsg-1ubuntu0.2) ...
Selecting previously unselected package libfontconfig1:amd64.
Preparing to unpack .../14-libfontconfig1_2.13.1-4.2ubuntu5_amd64.deb ...
Unpacking libfontconfig1:amd64 (2.13.1-4.2ubuntu5) ...
Selecting previously unselected package libjpeg-turbo8:amd64.
Preparing to unpack .../15-libjpeg-turbo8_2.1.2-0ubuntu1_amd64.deb ...
Unpacking libjpeg-turbo8:amd64 (2.1.2-0ubuntu1) ...
Selecting previously unselected package libjpeg8:amd64.
Preparing to unpack .../16-libjpeg8_8c-2ubuntu10_amd64.deb ...
Unpacking libjpeg8:amd64 (8c-2ubuntu10) ...
Selecting previously unselected package libjbig0:amd64.
Preparing to unpack .../17-libjbig0_2.1-3.1ubuntu0.22.04.1_amd64.deb ...
Unpacking libjbig0:amd64 (2.1-3.1ubuntu0.22.04.1) ...
Selecting previously unselected package libwebp7:amd64.
Preparing to unpack .../18-libwebp7_1.2.2-2ubuntu0.22.04.2_amd64.deb ...
Unpacking libwebp7:amd64 (1.2.2-2ubuntu0.22.04.2) ...
Selecting previously unselected package libtiff5:amd64.
Preparing to unpack .../19-libtiff5_4.3.0-6ubuntu0.7_amd64.deb ...
Unpacking libtiff5:amd64 (4.3.0-6ubuntu0.7) ...
Selecting previously unselected package libxpm4:amd64.
Preparing to unpack .../20-libxpm4_1%3a3.5.12-1ubuntu0.22.04.2_amd64.deb ...
Unpacking libxpm4:amd64 (1:3.5.12-1ubuntu0.22.04.2) ...
Selecting previously unselected package libgd3:amd64.
Preparing to unpack .../21-libgd3_2.3.0-2ubuntu2_amd64.deb ...
Unpacking libgd3:amd64 (2.3.0-2ubuntu2) ...
Selecting previously unselected package nginx-common.
Preparing to unpack .../22-nginx-common_1.18.0-6ubuntu14.4_all.deb ...
Unpacking nginx-common (1.18.0-6ubuntu14.4) ...
Selecting previously unselected package libnginx-mod-http-geoip2.
Preparing to unpack .../23-libnginx-mod-http-geoip2_1.18.0-6ubuntu14.4_amd64.deb ...
Unpacking libnginx-mod-http-geoip2 (1.18.0-6ubuntu14.4) ...
Selecting previously unselected package libnginx-mod-http-image-filter.
Preparing to unpack .../24-libnginx-mod-http-image-filter_1.18.0-6ubuntu14.4_amd64.deb ...
Unpacking libnginx-mod-http-image-filter (1.18.0-6ubuntu14.4) ...
Selecting previously unselected package libxslt1.1:amd64.
Preparing to unpack .../25-libxslt1.1_1.1.34-4ubuntu0.22.04.1_amd64.deb ...
Unpacking libxslt1.1:amd64 (1.1.34-4ubuntu0.22.04.1) ...
Selecting previously unselected package libnginx-mod-http-xslt-filter.
Preparing to unpack .../26-libnginx-mod-http-xslt-filter_1.18.0-6ubuntu14.4_amd64.deb ...
Unpacking libnginx-mod-http-xslt-filter (1.18.0-6ubuntu14.4) ...
Selecting previously unselected package libnginx-mod-mail.
Preparing to unpack .../27-libnginx-mod-mail_1.18.0-6ubuntu14.4_amd64.deb ...
Unpacking libnginx-mod-mail (1.18.0-6ubuntu14.4) ...
Selecting previously unselected package libnginx-mod-stream.
Preparing to unpack .../28-libnginx-mod-stream_1.18.0-6ubuntu14.4_amd64.deb ...
Unpacking libnginx-mod-stream (1.18.0-6ubuntu14.4) ...
Selecting previously unselected package libnginx-mod-stream-geoip2.
Preparing to unpack .../29-libnginx-mod-stream-geoip2_1.18.0-6ubuntu14.4_amd64.deb ...
Unpacking libnginx-mod-stream-geoip2 (1.18.0-6ubuntu14.4) ...
Selecting previously unselected package ncurses-term.
Preparing to unpack .../30-ncurses-term_6.3-2ubuntu0.1_all.deb ...
Unpacking ncurses-term (6.3-2ubuntu0.1) ...
Selecting previously unselected package nginx-core.
Preparing to unpack .../31-nginx-core_1.18.0-6ubuntu14.4_amd64.deb ...
Unpacking nginx-core (1.18.0-6ubuntu14.4) ...
Selecting previously unselected package nginx.
Preparing to unpack .../32-nginx_1.18.0-6ubuntu14.4_amd64.deb ...
Unpacking nginx (1.18.0-6ubuntu14.4) ...
Selecting previously unselected package python3-distro.
Preparing to unpack .../33-python3-distro_1.7.0-1_all.deb ...
Unpacking python3-distro (1.7.0-1) ...
Selecting previously unselected package ssh-import-id.
Preparing to unpack .../34-ssh-import-id_5.11-0ubuntu1_all.deb ...
Unpacking ssh-import-id (5.11-0ubuntu1) ...
Setting up openssh-sftp-server (1:8.9p1-3ubuntu0.4) ...
Setting up libpsl5:amd64 (0.21.0-1.2build2) ...
Setting up libxpm4:amd64 (1:3.5.12-1ubuntu0.22.04.2) ...
Setting up python3-distro (1.7.0-1) ...
Setting up wget (1.21.2-2ubuntu1) ...
Setting up ssh-import-id (5.11-0ubuntu1) ...
Setting up libmaxminddb0:amd64 (1.5.2-1build2) ...
Setting up libbrotli1:amd64 (1.0.9-2build6) ...
Setting up libdeflate0:amd64 (1.10-2) ...
Setting up nginx-common (1.18.0-6ubuntu14.4) ...
Created symlink /etc/systemd/system/multi-user.target.wants/nginx.service → /lib/systemd/system/nginx.service.
Setting up libjbig0:amd64 (2.1-3.1ubuntu0.22.04.1) ...
Setting up libwrap0:amd64 (7.6.q-31build2) ...
Setting up libpng16-16:amd64 (1.6.37-3build5) ...
Setting up fonts-dejavu-core (2.37-2build1) ...
Setting up libjpeg-turbo8:amd64 (2.1.2-0ubuntu1) ...
Setting up libwebp7:amd64 (1.2.2-2ubuntu0.22.04.2) ...
Setting up libxslt1.1:amd64 (1.1.34-4ubuntu0.22.04.1) ...
Setting up libnginx-mod-http-geoip2 (1.18.0-6ubuntu14.4) ...
Setting up publicsuffix (20211207.1025-1) ...
Setting up ncurses-term (6.3-2ubuntu0.1) ...
Setting up libjpeg8:amd64 (8c-2ubuntu10) ...
Setting up libnginx-mod-mail (1.18.0-6ubuntu14.4) ...
Setting up openssh-server (1:8.9p1-3ubuntu0.4) ...

Creating config file /etc/ssh/sshd_config with new version
Creating SSH2 RSA key; this may take some time ...
3072 SHA256:lQ3qAhdtW9pyhkdW0haxuWKEtfwHWDl5iwgl2alMbDk root@c1 (RSA)
Creating SSH2 ECDSA key; this may take some time ...
256 SHA256:DJOGis+kMSISlvXxx9nfxxy4RCHv+xLFg5odggjFwP8 root@c1 (ECDSA)
Creating SSH2 ED25519 key; this may take some time ...
256 SHA256:EGlayod9ja/o/+pi364AwXryKKSAb7kDzK9R52m9X5I root@c1 (ED25519)
Created symlink /etc/systemd/system/sshd.service → /lib/systemd/system/ssh.service.
Created symlink /etc/systemd/system/multi-user.target.wants/ssh.service → /lib/systemd/system/ssh.service.
rescue-ssh.target is a disabled or a static unit, not starting it.
ssh.socket is a disabled or a static unit, not starting it.
Setting up fontconfig-config (2.13.1-4.2ubuntu5) ...
Setting up libnginx-mod-stream (1.18.0-6ubuntu14.4) ...
Setting up libnginx-mod-http-xslt-filter (1.18.0-6ubuntu14.4) ...
Setting up libfreetype6:amd64 (2.11.1+dfsg-1ubuntu0.2) ...
Setting up libtiff5:amd64 (4.3.0-6ubuntu0.7) ...
Setting up libfontconfig1:amd64 (2.13.1-4.2ubuntu5) ...
Setting up libnginx-mod-stream-geoip2 (1.18.0-6ubuntu14.4) ...
Setting up ssh (1:8.9p1-3ubuntu0.4) ...
Setting up libgd3:amd64 (2.3.0-2ubuntu2) ...
Setting up libnginx-mod-http-image-filter (1.18.0-6ubuntu14.4) ...
Setting up nginx-core (1.18.0-6ubuntu14.4) ...
 * Upgrading binary nginx                                                              [ OK ]
Setting up nginx (1.18.0-6ubuntu14.4) ...
Processing triggers for libc-bin (2.35-0ubuntu3.4) ...
etu@vm0:~$ for num in {0..1}; do lxc exec c$num -- apt install ssh nginx; done
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
The following additional packages will be installed:
  libnsl2 libwrap0 ncurses-term nginx-common openssh-server openssh-sftp-server runit-helper
  sensible-utils ucf
Suggested packages:
  fcgiwrap nginx-doc ssl-cert molly-guard monkeysphere ssh-askpass ufw
The following NEW packages will be installed:
  libnsl2 libwrap0 ncurses-term nginx nginx-common openssh-server openssh-sftp-server
  runit-helper sensible-utils ssh ucf
0 upgraded, 11 newly installed, 0 to remove and 0 not upgraded.
Need to get 2010 kB of archives.
After this operation, 9007 kB of additional disk space will be used.
Do you want to continue? [Y/n] Y
Get:1 http://deb.debian.org/debian bookworm/main amd64 openssh-sftp-server amd64 1:9.2p1-2+deb12u1 [65.8 kB]
Get:2 http://deb.debian.org/debian bookworm/main amd64 sensible-utils all 0.0.17+nmu1 [19.0 kB]
Get:3 http://deb.debian.org/debian bookworm/main amd64 ucf all 3.0043+nmu1 [55.2 kB]
Get:4 http://deb.debian.org/debian bookworm/main amd64 runit-helper all 2.15.2 [6520 B]
Get:5 http://deb.debian.org/debian bookworm/main amd64 libnsl2 amd64 1.3.0-2 [39.5 kB]
Get:6 http://deb.debian.org/debian bookworm/main amd64 libwrap0 amd64 7.6.q-32 [54.9 kB]
Get:7 http://deb.debian.org/debian bookworm/main amd64 openssh-server amd64 1:9.2p1-2+deb12u1 [455 kB]
Get:8 http://deb.debian.org/debian bookworm/main amd64 ncurses-term all 6.4-4 [501 kB]
Get:9 http://deb.debian.org/debian bookworm/main amd64 nginx-common all 1.22.1-9 [112 kB]
Get:10 http://deb.debian.org/debian bookworm/main amd64 nginx amd64 1.22.1-9 [527 kB]
Get:11 http://deb.debian.org/debian bookworm/main amd64 ssh all 1:9.2p1-2+deb12u1 [173 kB]
Fetched 2010 kB in 1s (3727 kB/s)
debconf: delaying package configuration, since apt-utils is not installed
Selecting previously unselected package openssh-sftp-server.
(Reading database ... 13573 files and directories currently installed.)
Preparing to unpack .../00-openssh-sftp-server_1%3a9.2p1-2+deb12u1_amd64.deb ...
Unpacking openssh-sftp-server (1:9.2p1-2+deb12u1) ...
Selecting previously unselected package sensible-utils.
Preparing to unpack .../01-sensible-utils_0.0.17+nmu1_all.deb ...
Unpacking sensible-utils (0.0.17+nmu1) ...
Selecting previously unselected package ucf.
Preparing to unpack .../02-ucf_3.0043+nmu1_all.deb ...
Moving old data out of the way
Unpacking ucf (3.0043+nmu1) ...
Selecting previously unselected package runit-helper.
Preparing to unpack .../03-runit-helper_2.15.2_all.deb ...
Unpacking runit-helper (2.15.2) ...
Selecting previously unselected package libnsl2:amd64.
Preparing to unpack .../04-libnsl2_1.3.0-2_amd64.deb ...
Unpacking libnsl2:amd64 (1.3.0-2) ...
Selecting previously unselected package libwrap0:amd64.
Preparing to unpack .../05-libwrap0_7.6.q-32_amd64.deb ...
Unpacking libwrap0:amd64 (7.6.q-32) ...
Selecting previously unselected package openssh-server.
Preparing to unpack .../06-openssh-server_1%3a9.2p1-2+deb12u1_amd64.deb ...
Unpacking openssh-server (1:9.2p1-2+deb12u1) ...
Selecting previously unselected package ncurses-term.
Preparing to unpack .../07-ncurses-term_6.4-4_all.deb ...
Unpacking ncurses-term (6.4-4) ...
Selecting previously unselected package nginx-common.
Preparing to unpack .../08-nginx-common_1.22.1-9_all.deb ...
Unpacking nginx-common (1.22.1-9) ...
Selecting previously unselected package nginx.
Preparing to unpack .../09-nginx_1.22.1-9_amd64.deb ...
Unpacking nginx (1.22.1-9) ...
Selecting previously unselected package ssh.
Preparing to unpack .../10-ssh_1%3a9.2p1-2+deb12u1_all.deb ...
Unpacking ssh (1:9.2p1-2+deb12u1) ...
Setting up runit-helper (2.15.2) ...
Setting up openssh-sftp-server (1:9.2p1-2+deb12u1) ...
Setting up nginx-common (1.22.1-9) ...
Created symlink /etc/systemd/system/multi-user.target.wants/nginx.service → /lib/systemd/system/nginx.service.
Setting up sensible-utils (0.0.17+nmu1) ...
Setting up libnsl2:amd64 (1.3.0-2) ...
Setting up ncurses-term (6.4-4) ...
Setting up nginx (1.22.1-9) ...
Upgrading binary: nginx.
Setting up libwrap0:amd64 (7.6.q-32) ...
Setting up ucf (3.0043+nmu1) ...
Setting up openssh-server (1:9.2p1-2+deb12u1) ...

Creating config file /etc/ssh/sshd_config with new version
Creating SSH2 RSA key; this may take some time ...
3072 SHA256:xefV1sdqZaQs71op0dYxtsZrBXCDi0B92kS3D1gKiOw root@c0 (RSA)
Creating SSH2 ECDSA key; this may take some time ...
256 SHA256:Q7z87kAoSl2wjYOfKm02PN72e6TvwrUsB0657yAZ6qA root@c0 (ECDSA)
Creating SSH2 ED25519 key; this may take some time ...
256 SHA256:BpKRJZwl8H4e2LMKa5LTPsypEMMQMBMYA54GuwOB1Pg root@c0 (ED25519)
Created symlink /etc/systemd/system/sshd.service → /lib/systemd/system/ssh.service.
Created symlink /etc/systemd/system/multi-user.target.wants/ssh.service → /lib/systemd/system/ssh.service.
rescue-ssh.target is a disabled or a static unit, not starting it.
ssh.socket is a disabled or a static unit, not starting it.
Setting up ssh (1:9.2p1-2+deb12u1) ...
Processing triggers for libc-bin (2.36-9+deb12u3) ...
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
nginx is already the newest version (1.18.0-6ubuntu14.4).
ssh is already the newest version (1:8.9p1-3ubuntu0.4).
0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.
etu@vm0:~$ for num in {0..1}; do lxc exec c$num -- sed -i 's/#Port 22/Port 2222/g' /etc/ssh/sshd_config; done
etu@vm0:~$ for num in {0..1}; do lxc exec c$num -- grep Port /etc/ssh/sshd_config; done
Port 2222
#GatewayPorts no
Port 2222
#GatewayPorts no
etu@vm0:~$ for num in {0..1}; do lxc exec c$num -- systemctl restart ssh; done
etu@vm0:~$
```
##  Ouverture service Web dans chaque conteneur
###  Installation du paquet nginx sur chaque conteneur et Accès à la page Web de chaque conteneur via un tunnel SSH
```Powershell
etu@vm0:~$ for num in {0..1}; do lxc exec c$num -- apt install nginx; done
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
nginx is already the newest version (1.22.1-9).
0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
nginx is already the newest version (1.18.0-6ubuntu14.4).
0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.
etu@vm0:~$ exit
déconnexion
Connection to 2001:678:3fc:3c:baad:caff:fefe:39 closed.
PS C:\Users\hp> ssh -p 2222 -L 8000:localhost:80 etu@198.18.60.210
The authenticity of host '[198.18.60.210]:2222 ([198.18.60.210]:2222)' can t be established.
ECDSA key fingerprint is SHA256:Q7z87kAoSl2wjYOfKm02PN72e6TvwrUsB0657yAZ6qA.
Are you sure you want to continue connecting (yes/no/[fingerprint])? yes
Warning: Permanently added '[198.18.60.210]:2222' (ECDSA) to the list of known hosts.
etu@198.18.60.210 s password:
Linux c0 6.5.0-4-amd64 #1 SMP PREEMPT_DYNAMIC Debian 6.5.10-1 (2023-11-03) x86_64

The programs included with the Debian GNU/Linux system are free software;
the exact distribution terms for each program are described in the
individual files in /usr/share/doc/*/copyright.

Debian GNU/Linux comes with ABSOLUTELY NO WARRANTY, to the extent
permitted by applicable law.
Last login: Fri Dec  1 17:55:04 2023 from 198.18.61.109
etu@c0:~$ exit
logout
Connection to 198.18.60.210 closed.
PS C:\Users\hp> ssh -p 2222 -L 8000:localhost:80 etu@198.18.60.212
The authenticity of host '[198.18.60.212]:2222 ([198.18.60.212]:2222)' can t be established.
ECDSA key fingerprint is SHA256:DJOGis+kMSISlvXxx9nfxxy4RCHv+xLFg5odggjFwP8.
Are you sure you want to continue connecting (yes/no/[fingerprint])? yes
Warning: Permanently added '[198.18.60.212]:2222' (ECDSA) to the list of known hosts.
etu@198.18.60.212 s password:
Welcome to Ubuntu 22.04.3 LTS (GNU/Linux 6.5.0-4-amd64 x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage

The programs included with the Ubuntu system are free software;
the exact distribution terms for each program are described in the
individual files in /usr/share/doc/*/copyright.

Ubuntu comes with ABSOLUTELY NO WARRANTY, to the extent permitted by
applicable law.

etu@c1:~$ exit
logout
Connection to 198.18.60.210 closed.
PS C:\Users\hp> ssh vm0
etu@2001:678:3fc:3c:baad:caff:fefe:39 s password:
Linux vm0 6.5.0-4-amd64 #1 SMP PREEMPT_DYNAMIC Debian 6.5.10-1 (2023-11-03) x86_64

The programs included with the Debian GNU/Linux system are free software;
the exact distribution terms for each program are described in the
individual files in /usr/share/doc/*/copyright.

Debian GNU/Linux comes with ABSOLUTELY NO WARRANTY, to the extent
permitted by applicable law.
Last login: Mon Dec  4 21:43:15 2023 from 2a03:7220:8083:c4c4::1012
etu@vm0:~$ wget -O /dev/null http://198.18.60.210
--2023-12-04 21:51:33--  http://198.18.60.210/
Connexion à 198.18.60.210:80… connecté.
requête HTTP transmise, en attente de la réponse… 200 OK
Taille : 615 [text/html]
Sauvegarde en : « /dev/null »

/dev/null               100%[=============================>]     615  --.-KB/s    ds 0s

2023-12-04 21:51:33 (44,8 MB/s) — « /dev/null » sauvegardé [615/615]
```
# Fin